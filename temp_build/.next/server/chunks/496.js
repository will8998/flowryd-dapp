exports.id=496,exports.ids=[496],exports.modules={1578:(a,b,c)=>{"use strict";a.exports=c(47954)},15116:(a,b,c)=>{"use strict";a.exports=c(56345)},40337:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(83063).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},41907:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(83063).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},47954:(a,b,c)=>{"use strict";var d=c(43161),e=c(15116),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;b.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},56345:(a,b,c)=>{"use strict";var d=c(43161),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useState,g=d.useEffect,h=d.useLayoutEffect,i=d.useDebugValue;function j(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!e(a,c)}catch(a){return!0}}var k="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(a,b){return b()}:function(a,b){var c=b(),d=f({inst:{value:c,getSnapshot:b}}),e=d[0].inst,k=d[1];return h(function(){e.value=c,e.getSnapshot=b,j(e)&&k({inst:e})},[a,c,b]),g(function(){return j(e)&&k({inst:e}),a(function(){j(e)&&k({inst:e})})},[a]),i(c),c};b.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:k},59483:()=>{},65033:(a,b,c)=>{"use strict";c.d(b,{Do:()=>h,WZ:()=>e,TG:()=>i,ny:()=>f,yX:()=>j,xN:()=>k,Qc:()=>g,I$:()=>dk,aQ:()=>dq,di:()=>dr,kO:()=>dz,rN:()=>cU,bi:()=>da,_s:()=>cB,aE:()=>ca,Hm:()=>c4,tM:()=>b$,KE:()=>cq,tn:()=>bZ,xc:()=>bX,us:()=>cA,IO:()=>b9,e_:()=>cM,Fp:()=>cP,Mi:()=>cm,HF:()=>b1,Eo:()=>cF,b5:()=>c_,Tq:()=>cb,qX:()=>cR,q1:()=>cK,M_:()=>c1,oj:()=>cG,aZ:()=>b7,aW:()=>c3,uD:()=>cy,Jo:()=>b6,U$:()=>b8,X6:()=>cn,oN:()=>cZ,ah:()=>cV,R4:()=>cv,r8:()=>dd,ZO:()=>bY,bK:()=>b_,b$:()=>b2,uj:()=>cS,v5:()=>cI,Ue:()=>cw,Er:()=>cJ,oB:()=>b3,kf:()=>cp,mW:()=>co,Q6:()=>cD,QE:()=>cz,kM:()=>ck,No:()=>df,Ff:()=>cs,zj:()=>ct,s_:()=>cr,vS:()=>c8,qn:()=>dh,uL:()=>de,YN:()=>cC});var d,e,f,g,h,i,j,k,l={value:()=>{}};function m(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d||/[\s.]/.test(a))throw Error("illegal type: "+a);d[a]=[]}return new n(d)}function n(a){this._=a}function o(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=l,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function p(){}function q(a){return null==a?p:function(){return this.querySelector(a)}}function r(){return[]}function s(a){return null==a?r:function(){return this.querySelectorAll(a)}}function t(a){return function(){return this.matches(a)}}function u(a){return function(b){return b.matches(a)}}n.prototype=m.prototype={constructor:n,on:function(a,b){var c,d=this._,e=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");if(c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),a&&!d.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:b}}),f=-1,g=e.length;if(arguments.length<2){for(;++f<g;)if((c=(a=e[f]).type)&&(c=function(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}(d[c],a.name)))return c;return}if(null!=b&&"function"!=typeof b)throw Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=o(d[c],a.name,b);else if(null==b)for(c in d)d[c]=o(d[c],a.name,null);return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new n(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var v=Array.prototype.find;function w(){return this.firstElementChild}var x=Array.prototype.filter;function y(){return Array.from(this.children)}function z(a){return Array(a.length)}function A(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function B(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new A(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function C(a,b,c,d,e,f,g){var h,i,j,k=new Map,l=b.length,m=f.length,n=Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=g.call(i,i.__data__,h,b)+"",k.has(j)?e[h]=i:k.set(j,i));for(h=0;h<m;++h)j=g.call(a,f[h],h,f)+"",(i=k.get(j))?(d[h]=i,i.__data__=f[h],k.delete(j)):c[h]=new A(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(n[h])===i&&(e[h]=i)}function D(a){return a.__data__}function E(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}A.prototype={constructor:A,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var F="http://www.w3.org/1999/xhtml";let G={svg:"http://www.w3.org/2000/svg",xhtml:F,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function H(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),G.hasOwnProperty(b)?{space:G[b],local:a}:a}function I(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function J(a,b){return a.style.getPropertyValue(b)||I(a).getComputedStyle(a,null).getPropertyValue(b)}function K(a){return a.trim().split(/^|\s+/)}function L(a){return a.classList||new M(a)}function M(a){this._node=a,this._names=K(a.getAttribute("class")||"")}function N(a,b){for(var c=L(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function O(a,b){for(var c=L(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function P(){this.textContent=""}function Q(){this.innerHTML=""}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function S(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function T(a){var b=H(a);return(b.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===F&&b.documentElement.namespaceURI===F?b.createElement(a):b.createElementNS(c,a)}})(b)}function U(){return null}function V(){var a=this.parentNode;a&&a.removeChild(this)}function W(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function X(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Y(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)(c=b[d],a.type&&c.type!==a.type||c.name!==a.name)?b[++e]=c:this.removeEventListener(c.type,c.listener,c.options);++e?b.length=e:delete this.__on}}}function Z(a,b,c){return function(){var d,e=this.__on,f=function(a){b.call(this,a,this.__data__)};if(e){for(var g=0,h=e.length;g<h;++g)if((d=e[g]).type===a.type&&d.name===a.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=c),d.value=b;return}}this.addEventListener(a.type,f,c),d={type:a.type,name:a.name,value:b,listener:f,options:c},e?e.push(d):this.__on=[d]}}function $(a,b,c){var d=I(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}M.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var _=[null];function aa(a,b){this._groups=a,this._parents=b}function ab(){return new aa([[document.documentElement]],_)}function ac(a){return"string"==typeof a?new aa([[document.querySelector(a)]],[document.documentElement]):new aa([[a]],_)}function ad(a,b){if(a=function(a){let b;for(;b=a.sourceEvent;)a=b;return a}(a),void 0===b&&(b=a.currentTarget),b){var c=b.ownerSVGElement||b;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=a.clientX,d.y=a.clientY,[(d=d.matrixTransform(b.getScreenCTM().inverse())).x,d.y]}if(b.getBoundingClientRect){var e=b.getBoundingClientRect();return[a.clientX-e.left-b.clientLeft,a.clientY-e.top-b.clientTop]}}return[a.pageX,a.pageY]}aa.prototype=ab.prototype={constructor:aa,select:function(a){"function"!=typeof a&&(a=q(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=Array(i),k=0;k<i;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new aa(d,this._parents)},selectAll:function(a){if("function"==typeof a){var b;b=a,a=function(){var a;return a=b.apply(this,arguments),null==a?[]:Array.isArray(a)?a:Array.from(a)}}else a=s(a);for(var c=this._groups,d=c.length,e=[],f=[],g=0;g<d;++g)for(var h,i=c[g],j=i.length,k=0;k<j;++k)(h=i[k])&&(e.push(a.call(h,h.__data__,k,i)),f.push(h));return new aa(e,f)},selectChild:function(a){var b;return this.select(null==a?w:(b="function"==typeof a?a:u(a),function(){return v.call(this.children,b)}))},selectChildren:function(a){var b;return this.selectAll(null==a?y:(b="function"==typeof a?a:u(a),function(){return x.call(this.children,b)}))},filter:function(a){"function"!=typeof a&&(a=t(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new aa(d,this._parents)},data:function(a,b){if(!arguments.length)return Array.from(this,D);var c=b?C:B,d=this._parents,e=this._groups;"function"!=typeof a&&(s=a,a=function(){return s});for(var f=e.length,g=Array(f),h=Array(f),i=Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n="object"==typeof(r=a.call(k,k&&k.__data__,j,d))&&"length"in r?r:Array.from(r),o=n.length,p=h[j]=Array(o),q=g[j]=Array(o);c(k,l,p,q,i[j]=Array(m),n,b);for(var r,s,t,u,v=0,w=0;v<o;++v)if(t=p[v]){for(v>=w&&(w=v+1);!(u=q[w])&&++w<o;);t._next=u||null}}return(g=new aa(g,d))._enter=h,g._exit=i,g},enter:function(){return new aa(this._enter||this._groups.map(z),this._parents)},exit:function(){return new aa(this._exit||this._groups.map(z),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,f=this.exit();return"function"==typeof a?(d=a(d))&&(d=d.selection()):d=d.append(a+""),null!=b&&(e=b(e))&&(e=e.selection()),null==c?f.remove():c(f),d&&e?d.merge(e).order():e},merge:function(a){for(var b=a.selection?a.selection():a,c=this._groups,d=b._groups,e=c.length,f=d.length,g=Math.min(e,f),h=Array(e),i=0;i<g;++i)for(var j,k=c[i],l=d[i],m=k.length,n=h[i]=Array(m),o=0;o<m;++o)(j=k[o]||l[o])&&(n[o]=j);for(;i<e;++i)h[i]=c[i];return new aa(h,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&4^d.compareDocumentPosition(g)&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=E);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new aa(e,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){let a=0;for(let b of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},attr:function(a,b){var c=H(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?c.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:c.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(c,b))},style:function(a,b,c){return arguments.length>1?this.each((null==b?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof b?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(a,b,null==c?"":c)):J(this.node(),a)},property:function(a,b){return arguments.length>1?this.each((null==b?function(a){return function(){delete this[a]}}:"function"==typeof b?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(a,b)):this.node()[a]},classed:function(a,b){var c=K(a+"");if(arguments.length<2){for(var d=L(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?function(a,b){return function(){(b.apply(this,arguments)?N:O)(this,a)}}:b?function(a){return function(){N(this,a)}}:function(a){return function(){O(this,a)}})(c,b))},text:function(a){return arguments.length?this.each(null==a?P:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?Q:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(R)},lower:function(){return this.each(S)},append:function(a){var b="function"==typeof a?a:T(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:T(a),d=null==b?U:"function"==typeof b?b:q(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(V)},clone:function(a){return this.select(a?X:W)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d,e,f=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}}),g=f.length;if(arguments.length<2){var h=this.node().__on;if(h){for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}return}for(d=0,h=b?Z:Y;d<g;++d)this.each(h(f[d],b,c));return this},dispatch:function(a,b){return this.each(("function"==typeof b?function(a,b){return function(){return $(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return $(this,a,b)}})(a,b))},[Symbol.iterator]:function*(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)(d=e[f])&&(yield d)}};let ae={passive:!1},af={capture:!0,passive:!1};function ag(a){a.stopImmediatePropagation()}function ah(a){a.preventDefault(),a.stopImmediatePropagation()}function ai(a){var b=a.document.documentElement,c=ac(a).on("dragstart.drag",ah,af);"onselectstart"in b?c.on("selectstart.drag",ah,af):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function aj(a,b){var c=a.document.documentElement,d=ac(a).on("dragstart.drag",null);b&&(d.on("click.drag",ah,af),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}let ak=a=>()=>a;function al(a,{sourceEvent:b,subject:c,target:d,identifier:e,active:f,x:g,y:h,dx:i,dy:j,dispatch:k}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},subject:{value:c,enumerable:!0,configurable:!0},target:{value:d,enumerable:!0,configurable:!0},identifier:{value:e,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:g,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:i,enumerable:!0,configurable:!0},dy:{value:j,enumerable:!0,configurable:!0},_:{value:k}})}function am(a){return!a.ctrlKey&&!a.button}function an(){return this.parentNode}function ao(a,b){return null==b?{x:a.x,y:a.y}:b}function ap(){return navigator.maxTouchPoints||"ontouchstart"in this}function aq(a){return((a=Math.exp(a))+1/a)/2}al.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};let ar=function a(b,c,d){function e(a,e){var f,g,h=a[0],i=a[1],j=a[2],k=e[0],l=e[1],m=e[2],n=k-h,o=l-i,p=n*n+o*o;if(p<1e-12)g=Math.log(m/j)/b,f=function(a){return[h+a*n,i+a*o,j*Math.exp(b*a*g)]};else{var q=Math.sqrt(p),r=(m*m-j*j+d*p)/(2*j*c*q),s=(m*m-j*j-d*p)/(2*m*c*q),t=Math.log(Math.sqrt(r*r+1)-r);g=(Math.log(Math.sqrt(s*s+1)-s)-t)/b,f=function(a){var d,e,f=a*g,k=aq(t),l=j/(c*q)*(k*(((d=Math.exp(2*(d=b*f+t)))-1)/(d+1))-((e=Math.exp(e=t))-1/e)/2);return[h+l*n,i+l*o,j*k/aq(b*f+t)]}}return f.duration=1e3*g*b/Math.SQRT2,f}return e.rho=function(b){var c=Math.max(.001,+b),d=c*c;return a(c,d,d*d)},e}(Math.SQRT2,2,4);var as,at,au=0,av=0,aw=0,ax=0,ay=0,az=0,aA="object"==typeof performance&&performance.now?performance:Date,aB="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function aC(){return ay||(aB(aD),ay=aA.now()+az)}function aD(){ay=0}function aE(){this._call=this._time=this._next=null}function aF(a,b,c){var d=new aE;return d.restart(a,b,c),d}function aG(){ay=(ax=aA.now())+az,au=av=0;try{aC(),++au;for(var a,b=as;b;)(a=ay-b._time)>=0&&b._call.call(void 0,a),b=b._next;--au}finally{au=0,function(){for(var a,b,c=as,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:as=b);at=a,aI(d)}(),ay=0}}function aH(){var a=aA.now(),b=a-ax;b>1e3&&(az-=b,ax=a)}function aI(a){!au&&(av&&(av=clearTimeout(av)),a-ay>24?(a<1/0&&(av=setTimeout(aG,a-aA.now()-az)),aw&&(aw=clearInterval(aw))):(aw||(ax=aA.now(),aw=setInterval(aH,1e3)),au=1,aB(aG)))}function aJ(a,b,c){var d=new aE;return b=null==b?0:+b,d.restart(c=>{d.stop(),a(c+b)},b,c),d}aE.prototype=aF.prototype={constructor:aE,restart:function(a,b,c){if("function"!=typeof a)throw TypeError("callback is not a function");c=(null==c?aC():+c)+(null==b?0:+b),this._next||at===this||(at?at._next=this:as=this,at=this),this._call=a,this._time=c,aI()},stop:function(){this._call&&(this._call=null,this._time=1/0,aI())}};var aK=m("start","end","cancel","interrupt"),aL=[];function aM(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};!function(a,b,c){var d,e=a.__transition;function f(i){var j,k,l,m;if(1!==c.state)return h();for(j in e)if((m=e[j]).name===c.name){if(3===m.state)return aJ(f);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete e[j]):+j<b&&(m.state=6,m.timer.stop(),m.on.call("cancel",a,a.__data__,m.index,m.group),delete e[j])}if(aJ(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(i))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(j=0,c.state=3,d=Array(l=c.tween.length),k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(d[++k]=m);d.length=k+1}}function g(b){for(var e=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=5,1),f=-1,g=d.length;++f<g;)d[f].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){for(var d in c.state=6,c.timer.stop(),delete e[b],e)return;delete a.__transition}e[b]=c,c.timer=aF(function(a){c.state=1,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)},0,c.time)}(a,c,{name:b,index:d,group:e,on:aK,tween:aL,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function aN(a,b){var c=aP(a,b);if(c.state>0)throw Error("too late; already scheduled");return c}function aO(a,b){var c=aP(a,b);if(c.state>3)throw Error("too late; already running");return c}function aP(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw Error("transition not found");return c}function aQ(a,b){var c,d,e,f=a.__transition,g=!0;if(f){for(e in b=null==b?null:b+"",f){if((c=f[e]).name!==b){g=!1;continue}d=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(d?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete f[e]}g&&delete a.__transition}}function aR(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}var aS=180/Math.PI,aT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aU(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*aS,skewX:Math.atan(i)*aS,scaleX:g,scaleY:h}}function aV(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var h,i,j,k,l=[],m=[];return f=a(f),g=a(g),!function(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:aR(a,e)},{i:i-2,x:aR(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}(f.translateX,f.translateY,g.translateX,g.translateY,l,m),h=f.rotate,i=g.rotate,h!==i?(h-i>180?i+=360:i-h>180&&(h+=360),m.push({i:l.push(e(l)+"rotate(",null,d)-2,x:aR(h,i)})):i&&l.push(e(l)+"rotate("+i+d),j=f.skewX,k=g.skewX,j!==k?m.push({i:l.push(e(l)+"skewX(",null,d)-2,x:aR(j,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:aR(a,c)},{i:h-2,x:aR(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,l,m),f=g=null,function(a){for(var b,c=-1,d=m.length;++c<d;)l[(b=m[c]).i]=b.x(a);return l.join("")}}}var aW=aV(function(a){let b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return b.isIdentity?aT:aU(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),aX=aV(function(a){return null==a?aT:(d||(d=document.createElementNS("http://www.w3.org/2000/svg","g")),d.setAttribute("transform",a),a=d.transform.baseVal.consolidate())?aU((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):aT},", ",")",")");function aY(a,b,c){var d=a._id;return a.each(function(){var a=aO(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return aP(a,d).value[b]}}function aZ(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function a$(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function a_(){}var a0="\\s*([+-]?\\d+)\\s*",a1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",a2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a3=/^#([0-9a-f]{3,8})$/,a4=RegExp(`^rgb\\(${a0},${a0},${a0}\\)$`),a5=RegExp(`^rgb\\(${a2},${a2},${a2}\\)$`),a6=RegExp(`^rgba\\(${a0},${a0},${a0},${a1}\\)$`),a7=RegExp(`^rgba\\(${a2},${a2},${a2},${a1}\\)$`),a8=RegExp(`^hsl\\(${a1},${a2},${a2}\\)$`),a9=RegExp(`^hsla\\(${a1},${a2},${a2},${a1}\\)$`),ba={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function bb(){return this.rgb().formatHex()}function bc(){return this.rgb().formatRgb()}function bd(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=a3.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?be(b):3===c?new bh(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?bf(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?bf(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=a4.exec(a))?new bh(b[1],b[2],b[3],1):(b=a5.exec(a))?new bh(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=a6.exec(a))?bf(b[1],b[2],b[3],b[4]):(b=a7.exec(a))?bf(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=a8.exec(a))?bn(b[1],b[2]/100,b[3]/100,1):(b=a9.exec(a))?bn(b[1],b[2]/100,b[3]/100,b[4]):ba.hasOwnProperty(a)?be(ba[a]):"transparent"===a?new bh(NaN,NaN,NaN,0):null}function be(a){return new bh(a>>16&255,a>>8&255,255&a,1)}function bf(a,b,c,d){return d<=0&&(a=b=c=NaN),new bh(a,b,c,d)}function bg(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof a_||(e=bd(e)),e)?new bh((e=e.rgb()).r,e.g,e.b,e.opacity):new bh:new bh(a,b,c,null==d?1:d)}function bh(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function bi(){return`#${bm(this.r)}${bm(this.g)}${bm(this.b)}`}function bj(){let a=bk(this.opacity);return`${1===a?"rgb(":"rgba("}${bl(this.r)}, ${bl(this.g)}, ${bl(this.b)}${1===a?")":`, ${a})`}`}function bk(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function bl(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function bm(a){return((a=bl(a))<16?"0":"")+a.toString(16)}function bn(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new bp(a,b,c,d)}function bo(a){if(a instanceof bp)return new bp(a.h,a.s,a.l,a.opacity);if(a instanceof a_||(a=bd(a)),!a)return new bp;if(a instanceof bp)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new bp(g,h,i,a.opacity)}function bp(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function bq(a){return(a=(a||0)%360)<0?a+360:a}function br(a){return Math.max(0,Math.min(1,a||0))}function bs(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function bt(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}aZ(a_,bd,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:bb,formatHex:bb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return bo(this).formatHsl()},formatRgb:bc,toString:bc}),aZ(bh,bg,a$(a_,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new bh(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new bh(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new bh(bl(this.r),bl(this.g),bl(this.b),bk(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bi,formatHex:bi,formatHex8:function(){return`#${bm(this.r)}${bm(this.g)}${bm(this.b)}${bm((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:bj,toString:bj})),aZ(bp,function(a,b,c,d){return 1==arguments.length?bo(a):new bp(a,b,c,null==d?1:d)},a$(a_,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new bp(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new bp(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new bh(bs(a>=240?a-240:a+120,e,d),bs(a,e,d),bs(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new bp(bq(this.h),br(this.s),br(this.l),bk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=bk(this.opacity);return`${1===a?"hsl(":"hsla("}${bq(this.h)}, ${100*br(this.s)}%, ${100*br(this.l)}%${1===a?")":`, ${a})`}`}}));let bu=a=>()=>a;function bv(a,b){var c=b-a;return c?function(b){return a+b*c}:bu(isNaN(a)?b:a)}let bw=function a(b){var c,d=1==(c=+b)?bv:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):bu(isNaN(a)?b:a)};function e(a,b){var c=d((a=bg(a)).r,(b=bg(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=bv(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function bx(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=bg(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}bx(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return bt((c-d/b)*b,g,e,f,h)}}),bx(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return bt((c-d/b)*b,e,f,g,h)}});var by=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bz=RegExp(by.source,"g");function bA(a,b){var c,d,e,f,g,h=by.lastIndex=bz.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=by.exec(a))&&(f=bz.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:aR(e,f)})),h=bz.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})}function bB(a,b){var c;return("number"==typeof b?aR:b instanceof bd?bw:(c=bd(b))?(b=c,bw):bA)(a,b)}var bC=ab.prototype.constructor;function bD(a){return function(){this.style.removeProperty(a)}}var bE=0;function bF(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}var bG=ab.prototype;bF.prototype=(function(a){return ab().transition(a)}).prototype={constructor:bF,select:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=q(a));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i,j=d[g],k=j.length,l=f[g]=Array(k),m=0;m<k;++m)(h=j[m])&&(i=a.call(h,h.__data__,m,j))&&("__data__"in h&&(i.__data__=h.__data__),l[m]=i,aM(l[m],b,c,m,l,aP(h,c)));return new bF(f,this._parents,b,c)},selectAll:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=s(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,l=0;l<k;++l)if(i=j[l]){for(var m,n=a.call(i,i.__data__,l,j),o=aP(i,c),p=0,q=n.length;p<q;++p)(m=n[p])&&aM(m,b,c,p,n,o);f.push(n),g.push(i)}return new bF(f,g,b,c)},selectChild:bG.selectChild,selectChildren:bG.selectChildren,filter:function(a){"function"!=typeof a&&(a=t(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new bF(d,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new bF(g,this._parents,this._name,this._id)},selection:function(){return new bC(this._groups,this._parents)},transition:function(){for(var a=this._name,b=this._id,c=++bE,d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=aP(g,b);aM(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new bF(d,this._parents,a,c)},call:bG.call,nodes:bG.nodes,node:bG.node,size:bG.size,empty:bG.empty,each:bG.each,on:function(a,b){var c,d,e,f,g,h,i=this._id;return arguments.length<2?aP(this.node(),i).on.on(a):this.each((c=i,d=a,e=b,h=(d+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?aN:aO,function(){var a=h(this,c),b=a.on;b!==f&&(g=(f=b).copy()).on(d,e),a.on=g}))},attr:function(a,b){var c=H(a),d="transform"===c?aX:bB;return this.attrTween(a,"function"==typeof b?(c.local?function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}}:function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttribute(a):(g=this.getAttribute(a))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}})(c,d,aY(this,"attr."+a,b)):null==b?(c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(c):(c.local?function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttributeNS(a.space,a.local);return g===f?null:g===d?e:e=b(d=g,c)}}:function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttribute(a);return g===f?null:g===d?e:e=b(d=g,c)}})(c,d,b))},attrTween:function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw Error();var d=H(a);return this.tween(c,(d.local?function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttributeNS(a.space,a.local,e.call(this,b))}),c}return e._value=b,e}:function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttribute(a,e.call(this,b))}),c}return e._value=b,e})(d,b))},style:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="transform"==(a+="")?aW:bB;return null==b?this.styleTween(a,(d=a,function(){var a=J(this,d),b=(this.style.removeProperty(d),J(this,d));return a===b?null:a===e&&b===f?g:g=y(e=a,f=b)})).on("end.style."+a,bD(a)):"function"==typeof b?this.styleTween(a,(h=a,i=aY(this,"style."+a,b),function(){var a=J(this,h),b=i(this),c=b+"";return null==b&&(this.style.removeProperty(h),c=b=J(this,h)),a===c?null:a===j&&c===k?l:(k=c,l=y(j=a,b))})).each((m=this._id,t="end."+(s="style."+(n=a)),function(){var a=aO(this,m),b=a.on,c=null==a.value[s]?r||(r=bD(n)):void 0;(b!==o||q!==c)&&(p=(o=b).copy()).on(t,q=c),a.on=p})):this.styleTween(a,(u=a,x=b+"",function(){var a=J(this,u);return a===x?null:a===v?w:w=y(v=a,b)}),c).on("end.style."+a,null)},styleTween:function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw Error();return this.tween(d,function(a,b,c){var d,e;function f(){var f=b.apply(this,arguments);return f!==e&&(d=(e=f)&&function(b){this.style.setProperty(a,f.call(this,b),c)}),d}return f._value=b,f}(a,b,null==c?"":c))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=aY(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},textTween:function(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==a)return this.tween(b,null);if("function"!=typeof a)throw Error();return this.tween(b,function(a){var b,c;function d(){var d=a.apply(this,arguments);return d!==c&&(b=(c=d)&&function(a){this.textContent=d.call(this,a)}),b}return d._value=a,d}(a))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=aP(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?function(a,b){var c,d;return function(){var e=aO(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){(d=d.slice()).splice(g,1);break}}e.tween=d}}:function(a,b,c){var d,e;if("function"!=typeof c)throw Error();return function(){var f=aO(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}})(c,a,b))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){aN(this,a).delay=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){aN(this,a).delay=b}})(b,a)):aP(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){aO(this,a).duration=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){aO(this,a).duration=b}})(b,a)):aP(this.node(),b).duration},ease:function(a){var b=this._id;return arguments.length?this.each(function(a,b){if("function"!=typeof b)throw Error();return function(){aO(this,a).ease=b}}(b,a)):aP(this.node(),b).ease},easeVarying:function(a){var b;if("function"!=typeof a)throw Error();return this.each((b=this._id,function(){var c=a.apply(this,arguments);if("function"!=typeof c)throw Error();aO(this,b).ease=c}))},end:function(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){0==--e&&f()}};c.each(function(){var c=aO(this,d),e=c.on;e!==a&&((b=(a=e).copy())._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),c.on=b}),0===e&&f()})},[Symbol.iterator]:bG[Symbol.iterator]};var bH={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};ab.prototype.interrupt=function(a){return this.each(function(){aQ(this,a)})},ab.prototype.transition=function(a){var b,c;a instanceof bF?(b=a._id,a=a._name):(b=++bE,(c=bH).time=aC(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&aM(g,a,b,j,h,c||function(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw Error(`transition ${b} not found`);return c}(g,b));return new bF(d,this._parents,a,b)};let bI=a=>()=>a;function bJ(a,{sourceEvent:b,target:c,transform:d,dispatch:e}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},transform:{value:d,enumerable:!0,configurable:!0},_:{value:e}})}function bK(a,b,c){this.k=a,this.x=b,this.y=c}bK.prototype={constructor:bK,scale:function(a){return 1===a?this:new bK(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new bK(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bL=new bK(1,0,0);function bM(a){for(;!a.__zoom;)if(!(a=a.parentNode))return bL;return a.__zoom}function bN(a){a.stopImmediatePropagation()}function bO(a){a.preventDefault(),a.stopImmediatePropagation()}function bP(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function bQ(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a).hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]:[[0,0],[a.clientWidth,a.clientHeight]]}function bR(){return this.__zoom||bL}function bS(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function bT(){return navigator.maxTouchPoints||"ontouchstart"in this}function bU(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}function bV(){var a,b,c,d=bP,e=bQ,f=bU,g=bS,h=bT,i=[0,1/0],j=[[-1/0,-1/0],[1/0,1/0]],k=250,l=ar,n=m("start","zoom","end"),o=0,p=10;function q(a){a.property("__zoom",bR).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",y).on("dblclick.zoom",z).filter(h).on("touchstart.zoom",A).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function r(a,b){return(b=Math.max(i[0],Math.min(i[1],b)))===a.k?a:new bK(b,a.x,a.y)}function s(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new bK(a.k,d,e)}function t(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function u(a,b,c,d){a.on("start.zoom",function(){v(this,arguments).event(d).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(d).end()}).tween("zoom",function(){var a=arguments,f=v(this,a).event(d),g=e.apply(this,a),h=null==c?t(g):"function"==typeof c?c.apply(this,a):c,i=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]),j=this.__zoom,k="function"==typeof b?b.apply(this,a):b,m=l(j.invert(h).concat(i/j.k),k.invert(h).concat(i/k.k));return function(a){if(1===a)a=k;else{var b=m(a),c=i/b[2];a=new bK(c,h[0]-b[0]*c,h[1]-b[1]*c)}f.zoom(null,a)}})}function v(a,b,c){return!c&&a.__zooming||new w(a,b)}function w(a,b){this.that=a,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(a,b),this.taps=0}function x(a,...b){if(d.apply(this,arguments)){var c=v(this,b).event(a),e=this.__zoom,h=Math.max(i[0],Math.min(i[1],e.k*Math.pow(2,g.apply(this,arguments)))),k=ad(a);if(c.wheel)(c.mouse[0][0]!==k[0]||c.mouse[0][1]!==k[1])&&(c.mouse[1]=e.invert(c.mouse[0]=k)),clearTimeout(c.wheel);else{if(e.k===h)return;c.mouse=[k,e.invert(k)],aQ(this),c.start()}bO(a),c.wheel=setTimeout(function(){c.wheel=null,c.end()},150),c.zoom("mouse",f(s(r(e,h),c.mouse[0],c.mouse[1]),c.extent,j))}}function y(a,...b){if(!c&&d.apply(this,arguments)){var e=a.currentTarget,g=v(this,b,!0).event(a),h=ac(a.view).on("mousemove.zoom",function(a){if(bO(a),!g.moved){var b=a.clientX-k,c=a.clientY-l;g.moved=b*b+c*c>o}g.event(a).zoom("mouse",f(s(g.that.__zoom,g.mouse[0]=ad(a,e),g.mouse[1]),g.extent,j))},!0).on("mouseup.zoom",function(a){h.on("mousemove.zoom mouseup.zoom",null),aj(a.view,g.moved),bO(a),g.event(a).end()},!0),i=ad(a,e),k=a.clientX,l=a.clientY;ai(a.view),bN(a),g.mouse=[i,this.__zoom.invert(i)],aQ(this),g.start()}}function z(a,...b){if(d.apply(this,arguments)){var c=this.__zoom,g=ad(a.changedTouches?a.changedTouches[0]:a,this),h=c.invert(g),i=c.k*(a.shiftKey?.5:2),l=f(s(r(c,i),g,h),e.apply(this,b),j);bO(a),k>0?ac(this).transition().duration(k).call(u,l,g,a):ac(this).call(q.transform,l,g,a)}}function A(c,...e){if(d.apply(this,arguments)){var f,g,h,i,j=c.touches,k=j.length,l=v(this,e,c.changedTouches.length===k).event(c);for(bN(c),g=0;g<k;++g)i=[i=ad(h=j[g],this),this.__zoom.invert(i),h.identifier],l.touch0?l.touch1||l.touch0[2]===i[2]||(l.touch1=i,l.taps=0):(l.touch0=i,f=!0,l.taps=1+!!a);a&&(a=clearTimeout(a)),f&&(l.taps<2&&(b=i[0],a=setTimeout(function(){a=null},500)),aQ(this),l.start())}}function B(a,...b){if(this.__zooming){var c,d,e,g,h=v(this,b).event(a),i=a.changedTouches,k=i.length;for(bO(a),c=0;c<k;++c)e=ad(d=i[c],this),h.touch0&&h.touch0[2]===d.identifier?h.touch0[0]=e:h.touch1&&h.touch1[2]===d.identifier&&(h.touch1[0]=e);if(d=h.that.__zoom,h.touch1){var l=h.touch0[0],m=h.touch0[1],n=h.touch1[0],o=h.touch1[1],p=(p=n[0]-l[0])*p+(p=n[1]-l[1])*p,q=(q=o[0]-m[0])*q+(q=o[1]-m[1])*q;d=r(d,Math.sqrt(p/q)),e=[(l[0]+n[0])/2,(l[1]+n[1])/2],g=[(m[0]+o[0])/2,(m[1]+o[1])/2]}else{if(!h.touch0)return;e=h.touch0[0],g=h.touch0[1]}h.zoom("touch",f(s(d,e,g),h.extent,j))}}function C(a,...d){if(this.__zooming){var e,f,g=v(this,d).event(a),h=a.changedTouches,i=h.length;for(bN(a),c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)f=h[e],g.touch0&&g.touch0[2]===f.identifier?delete g.touch0:g.touch1&&g.touch1[2]===f.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(f=ad(f,this),Math.hypot(b[0]-f[0],b[1]-f[1])<p)){var j=ac(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return q.transform=function(a,b,c,d){var e=a.selection?a.selection():a;e.property("__zoom",bR),a!==e?u(a,b,c,d):e.interrupt().each(function(){v(this,arguments).event(d).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},q.scaleBy=function(a,b,c,d){q.scaleTo(a,function(){var a=this.__zoom.k,c="function"==typeof b?b.apply(this,arguments):b;return a*c},c,d)},q.scaleTo=function(a,b,c,d){q.transform(a,function(){var a=e.apply(this,arguments),d=this.__zoom,g=null==c?t(a):"function"==typeof c?c.apply(this,arguments):c,h=d.invert(g),i="function"==typeof b?b.apply(this,arguments):b;return f(s(r(d,i),g,h),a,j)},c,d)},q.translateBy=function(a,b,c,d){q.transform(a,function(){return f(this.__zoom.translate("function"==typeof b?b.apply(this,arguments):b,"function"==typeof c?c.apply(this,arguments):c),e.apply(this,arguments),j)},null,d)},q.translateTo=function(a,b,c,d,g){q.transform(a,function(){var a=e.apply(this,arguments),g=this.__zoom,h=null==d?t(a):"function"==typeof d?d.apply(this,arguments):d;return f(bL.translate(h[0],h[1]).scale(g.k).translate("function"==typeof b?-b.apply(this,arguments):-b,"function"==typeof c?-c.apply(this,arguments):-c),a,j)},d,g)},w.prototype={event:function(a){return a&&(this.sourceEvent=a),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(a){var b=ac(this.that).datum();n.call(a,this.that,new bJ(a,{sourceEvent:this.sourceEvent,target:q,type:a,transform:this.that.__zoom,dispatch:n}),b)}},q.wheelDelta=function(a){return arguments.length?(g="function"==typeof a?a:bI(+a),q):g},q.filter=function(a){return arguments.length?(d="function"==typeof a?a:bI(!!a),q):d},q.touchable=function(a){return arguments.length?(h="function"==typeof a?a:bI(!!a),q):h},q.extent=function(a){return arguments.length?(e="function"==typeof a?a:bI([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),q):e},q.scaleExtent=function(a){return arguments.length?(i[0]=+a[0],i[1]=+a[1],q):[i[0],i[1]]},q.translateExtent=function(a){return arguments.length?(j[0][0]=+a[0][0],j[1][0]=+a[1][0],j[0][1]=+a[0][1],j[1][1]=+a[1][1],q):[[j[0][0],j[0][1]],[j[1][0],j[1][1]]]},q.constrain=function(a){return arguments.length?(f=a,q):f},q.duration=function(a){return arguments.length?(k=+a,q):k},q.interpolate=function(a){return arguments.length?(l=a,q):l},q.on=function(){var a=n.on.apply(n,arguments);return a===n?q:a},q.clickDistance=function(a){return arguments.length?(o=(a*=1)*a,q):Math.sqrt(o)},q.tapDistance=function(a){return arguments.length?(p=+a,q):p},q}function bW(a,b){var c,d,e=typeof b;return null==b||"boolean"===e?bu(b):("number"===e?aR:"string"===e?(d=bd(b))?(b=d,bw):bA:b instanceof bd?bw:b instanceof Date?function(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}:!ArrayBuffer.isView(c=b)||c instanceof DataView?Array.isArray(b)?function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=bW(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?function(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=bW(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}:aR:function(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}})(a,b)}bM.prototype=bK.prototype;let bX={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:a=>`Node type "${a}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:a=>`The old edge with id=${a} does not exist.`,error009:a=>`Marker type "${a}" doesn't exist.`,error008:(a,{id:b,sourceHandle:c,targetHandle:d})=>`Couldn't create edge for ${a} handle id: "${"source"===a?c:d}", edge id: ${b}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:a=>`Edge type "${a}" not found. Using fallback type "default".`,error012:a=>`Node with id "${a}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(a="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${a}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bY=[[-1/0,-1/0],[1/0,1/0]],bZ=["Enter"," ","Escape"],b$={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:a,x:b,y:c})=>`Moved selected node ${a}. New position, x: ${b}, y: ${c}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};!function(a){a.Strict="strict",a.Loose="loose"}(e||(e={})),function(a){a.Free="free",a.Vertical="vertical",a.Horizontal="horizontal"}(f||(f={})),function(a){a.Partial="partial",a.Full="full"}(g||(g={}));let b_={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};!function(a){a.Bezier="default",a.Straight="straight",a.Step="step",a.SmoothStep="smoothstep",a.SimpleBezier="simplebezier"}(h||(h={})),function(a){a.Arrow="arrow",a.ArrowClosed="arrowclosed"}(i||(i={})),function(a){a.Left="left",a.Top="top",a.Right="right",a.Bottom="bottom"}(j||(j={}));let b0={[j.Left]:j.Right,[j.Right]:j.Left,[j.Top]:j.Bottom,[j.Bottom]:j.Top};function b1(a){return null===a?null:a?"valid":"invalid"}let b2=a=>"id"in a&&"source"in a&&"target"in a,b3=a=>"id"in a&&"position"in a&&!("source"in a)&&!("target"in a),b4=a=>"id"in a&&"internals"in a&&!("source"in a)&&!("target"in a),b5=(a,b=[0,0])=>{let{width:c,height:d}=cy(a),e=a.origin??b,f=c*e[0],g=d*e[1];return{x:a.position.x-f,y:a.position.y-g}},b6=(a,b={nodeOrigin:[0,0]})=>0===a.length?{x:0,y:0,width:0,height:0}:cj(a.reduce((a,c)=>{let d="string"==typeof c,e=b.nodeLookup||d?void 0:c;return b.nodeLookup&&(e=d?b.nodeLookup.get(c):b4(c)?c:b.nodeLookup.get(c.id)),ch(a,e?cl(e,b.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),b7=(a,b={})=>{let c={x:1/0,y:1/0,x2:-1/0,y2:-1/0},d=!1;return a.forEach(a=>{(void 0===b.filter||b.filter(a))&&(c=ch(c,cl(a)),d=!0)}),d?cj(c):{x:0,y:0,width:0,height:0}},b8=(a,b,[c,d,e]=[0,0,1],f=!1,g=!1)=>{let h={...cs(b,[c,d,e]),width:b.width/e,height:b.height/e},i=[];for(let b of a.values()){let{measured:a,selectable:c=!0,hidden:d=!1}=b;if(g&&!c||d)continue;let e=a.width??b.width??b.initialWidth??null,j=a.height??b.height??b.initialHeight??null,k=cn(h,ck(b)),l=(e??0)*(j??0),m=f&&k>0;(!b.internals.handleBounds||m||k>=l||b.dragging)&&i.push(b)}return i};async function b9({nodes:a,width:b,height:c,panZoom:d,minZoom:e,maxZoom:f},g){if(0===a.size)return Promise.resolve(!0);let h=cv(b7(function(a,b){let c=new Map,d=b?.nodes?new Set(b.nodes.map(a=>a.id)):null;return a.forEach(a=>{a.measured.width&&a.measured.height&&(b?.includeHiddenNodes||!a.hidden)&&(!d||d.has(a.id))&&c.set(a.id,a)}),c}(a,g)),b,c,g?.minZoom??e,g?.maxZoom??f,g?.padding??.1);return await d.setViewport(h,{duration:g?.duration,ease:g?.ease,interpolate:g?.interpolate}),Promise.resolve(!0)}function ca({nodeId:a,nextPosition:b,nodeLookup:c,nodeOrigin:d=[0,0],nodeExtent:e,onError:f}){let g=c.get(a),h=g.parentId?c.get(g.parentId):void 0,{x:i,y:j}=h?h.internals.positionAbsolute:{x:0,y:0},k=g.origin??d,l=g.extent||e;if("parent"!==g.extent||g.expandParent)h&&cx(g.extent)&&(l=[[g.extent[0][0]+i,g.extent[0][1]+j],[g.extent[1][0]+i,g.extent[1][1]+j]]);else if(h){let a=h.measured.width,b=h.measured.height;a&&b&&(l=[[i,j],[i+a,j+b]])}else f?.("005",bX.error005());let m=cx(l)?cd(b,l,g.measured):b;return(void 0===g.measured.width||void 0===g.measured.height)&&f?.("015",bX.error015()),{position:{x:m.x-i+(g.measured.width??0)*k[0],y:m.y-j+(g.measured.height??0)*k[1]},positionAbsolute:m}}async function cb({nodesToRemove:a=[],edgesToRemove:b=[],nodes:c,edges:d,onBeforeDelete:e}){let f=new Set(a.map(a=>a.id)),g=[];for(let a of c){if(!1===a.deletable)continue;let b=f.has(a.id),c=!b&&a.parentId&&g.find(b=>b.id===a.parentId);(b||c)&&g.push(a)}let h=new Set(b.map(a=>a.id)),i=d.filter(a=>!1!==a.deletable),j=((a,b)=>{let c=new Set;return a.forEach(a=>{c.add(a.id)}),b.filter(a=>c.has(a.source)||c.has(a.target))})(g,i);for(let a of i)h.has(a.id)&&!j.find(b=>b.id===a.id)&&j.push(a);if(!e)return{edges:j,nodes:g};let k=await e({nodes:g,edges:j});return"boolean"==typeof k?k?{edges:j,nodes:g}:{edges:[],nodes:[]}:k}let cc=(a,b=0,c=1)=>Math.min(Math.max(a,b),c),cd=(a={x:0,y:0},b,c)=>({x:cc(a.x,b[0][0],b[1][0]-(c?.width??0)),y:cc(a.y,b[0][1],b[1][1]-(c?.height??0))});function ce(a,b,c){let{width:d,height:e}=cy(c),{x:f,y:g}=c.internals.positionAbsolute;return cd(a,[[f,g],[f+d,g+e]],b)}let cf=(a,b,c)=>a<b?cc(Math.abs(a-b),1,b)/b:a>c?-cc(Math.abs(a-c),1,b)/b:0,cg=(a,b,c=15,d=40)=>[cf(a.x,d,b.width-d)*c,cf(a.y,d,b.height-d)*c],ch=(a,b)=>({x:Math.min(a.x,b.x),y:Math.min(a.y,b.y),x2:Math.max(a.x2,b.x2),y2:Math.max(a.y2,b.y2)}),ci=({x:a,y:b,width:c,height:d})=>({x:a,y:b,x2:a+c,y2:b+d}),cj=({x:a,y:b,x2:c,y2:d})=>({x:a,y:b,width:c-a,height:d-b}),ck=(a,b=[0,0])=>{let{x:c,y:d}=b4(a)?a.internals.positionAbsolute:b5(a,b);return{x:c,y:d,width:a.measured?.width??a.width??a.initialWidth??0,height:a.measured?.height??a.height??a.initialHeight??0}},cl=(a,b=[0,0])=>{let{x:c,y:d}=b4(a)?a.internals.positionAbsolute:b5(a,b);return{x:c,y:d,x2:c+(a.measured?.width??a.width??a.initialWidth??0),y2:d+(a.measured?.height??a.height??a.initialHeight??0)}},cm=(a,b)=>cj(ch(ci(a),ci(b))),cn=(a,b)=>Math.ceil(Math.max(0,Math.min(a.x+a.width,b.x+b.width)-Math.max(a.x,b.x))*Math.max(0,Math.min(a.y+a.height,b.y+b.height)-Math.max(a.y,b.y))),co=a=>cp(a.width)&&cp(a.height)&&cp(a.x)&&cp(a.y),cp=a=>!isNaN(a)&&isFinite(a),cq=(a,b)=>{},cr=(a,b=[1,1])=>({x:b[0]*Math.round(a.x/b[0]),y:b[1]*Math.round(a.y/b[1])}),cs=({x:a,y:b},[c,d,e],f=!1,g=[1,1])=>{let h={x:(a-c)/e,y:(b-d)/e};return f?cr(h,g):h},ct=({x:a,y:b},[c,d,e])=>({x:a*e+c,y:b*e+d});function cu(a,b){if("number"==typeof a)return Math.floor((b-b/(1+a))*.5);if("string"==typeof a&&a.endsWith("px")){let b=parseFloat(a);if(!Number.isNaN(b))return Math.floor(b)}if("string"==typeof a&&a.endsWith("%")){let c=parseFloat(a);if(!Number.isNaN(c))return Math.floor(b*c*.01)}return console.error(`[React Flow] The padding value "${a}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}let cv=(a,b,c,d,e,f)=>{let g=function(a,b,c){if("string"==typeof a||"number"==typeof a){let d=cu(a,c),e=cu(a,b);return{top:d,right:e,bottom:d,left:e,x:2*e,y:2*d}}if("object"==typeof a){let d=cu(a.top??a.y??0,c),e=cu(a.bottom??a.y??0,c),f=cu(a.left??a.x??0,b),g=cu(a.right??a.x??0,b);return{top:d,right:g,bottom:e,left:f,x:f+g,y:d+e}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(f,b,c),h=cc(Math.min((b-g.x)/a.width,(c-g.y)/a.height),d,e),i=a.x+a.width/2,j=a.y+a.height/2,k=b/2-i*h,l=c/2-j*h,m=function(a,b,c,d,e,f){let{x:g,y:h}=ct(a,[b,c,d]),{x:i,y:j}=ct({x:a.x+a.width,y:a.y+a.height},[b,c,d]);return{left:Math.floor(g),top:Math.floor(h),right:Math.floor(e-i),bottom:Math.floor(f-j)}}(a,k,l,h,b,c),n={left:Math.min(m.left-g.left,0),top:Math.min(m.top-g.top,0),right:Math.min(m.right-g.right,0),bottom:Math.min(m.bottom-g.bottom,0)};return{x:k-n.left+n.right,y:l-n.top+n.bottom,zoom:h}},cw=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function cx(a){return null!=a&&"parent"!==a}function cy(a){return{width:a.measured?.width??a.width??a.initialWidth??0,height:a.measured?.height??a.height??a.initialHeight??0}}function cz(a){return(a.measured?.width??a.width??a.initialWidth)!==void 0&&(a.measured?.height??a.height??a.initialHeight)!==void 0}function cA(a,b={width:0,height:0},c,d,e){let f={...a},g=d.get(c);if(g){let a=g.origin||e;f.x+=g.internals.positionAbsolute.x-(b.width??0)*a[0],f.y+=g.internals.positionAbsolute.y-(b.height??0)*a[1]}return f}function cB(a,b){if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0}function cC(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}function cD(a){return{...b$,...a||{}}}function cE(a,{snapGrid:b=[0,0],snapToGrid:c=!1,transform:d,containerBounds:e}){let{x:f,y:g}=cK(a),h=cs({x:f-(e?.left??0),y:g-(e?.top??0)},d),{x:i,y:j}=c?cr(h,b):h;return{xSnapped:i,ySnapped:j,...h}}let cF=a=>({width:a.offsetWidth,height:a.offsetHeight}),cG=a=>a?.getRootNode?.()||window?.document,cH=["INPUT","SELECT","TEXTAREA"];function cI(a){let b=a.composedPath?.()?.[0]||a.target;return b?.nodeType===1&&(cH.includes(b.nodeName)||b.hasAttribute("contenteditable")||!!b.closest(".nokey"))}let cJ=a=>"clientX"in a,cK=(a,b)=>{let c=cJ(a),d=c?a.clientX:a.touches?.[0].clientX,e=c?a.clientY:a.touches?.[0].clientY;return{x:d-(b?.left??0),y:e-(b?.top??0)}},cL=(a,b,c,d,e)=>{let f=b.querySelectorAll(`.${a}`);return f&&f.length?Array.from(f).map(b=>{let f=b.getBoundingClientRect();return{id:b.getAttribute("data-handleid"),type:a,nodeId:e,position:b.getAttribute("data-handlepos"),x:(f.left-c.left)/d,y:(f.top-c.top)/d,...cF(b)}}):null};function cM({sourceX:a,sourceY:b,targetX:c,targetY:d,sourceControlX:e,sourceControlY:f,targetControlX:g,targetControlY:h}){let i=.125*a+.375*e+.375*g+.125*c,j=.125*b+.375*f+.375*h+.125*d,k=Math.abs(i-a),l=Math.abs(j-b);return[i,j,k,l]}function cN(a,b){return a>=0?.5*a:25*b*Math.sqrt(-a)}function cO({pos:a,x1:b,y1:c,x2:d,y2:e,c:f}){switch(a){case j.Left:return[b-cN(b-d,f),c];case j.Right:return[b+cN(d-b,f),c];case j.Top:return[b,c-cN(c-e,f)];case j.Bottom:return[b,c+cN(e-c,f)]}}function cP({sourceX:a,sourceY:b,sourcePosition:c=j.Bottom,targetX:d,targetY:e,targetPosition:f=j.Top,curvature:g=.25}){let[h,i]=cO({pos:c,x1:a,y1:b,x2:d,y2:e,c:g}),[k,l]=cO({pos:f,x1:d,y1:e,x2:a,y2:b,c:g}),[m,n,o,p]=cM({sourceX:a,sourceY:b,targetX:d,targetY:e,sourceControlX:h,sourceControlY:i,targetControlX:k,targetControlY:l});return[`M${a},${b} C${h},${i} ${k},${l} ${d},${e}`,m,n,o,p]}function cQ({sourceX:a,sourceY:b,targetX:c,targetY:d}){let e=Math.abs(c-a)/2,f=Math.abs(d-b)/2;return[c<a?c+e:c-e,d<b?d+f:d-f,e,f]}function cR({sourceNode:a,targetNode:b,selected:c=!1,zIndex:d=0,elevateOnSelect:e=!1,zIndexMode:f="basic"}){if("manual"===f)return d;let g=Math.max(a.parentId||e&&a.selected?a.internals.z:0,b.parentId||e&&b.selected?b.internals.z:0);return(e&&c?d+1e3:d)+g}function cS({sourceNode:a,targetNode:b,width:c,height:d,transform:e}){let f=ch(cl(a),cl(b));return f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1),cn({x:-e[0]/e[2],y:-e[1]/e[2],width:c/e[2],height:d/e[2]},cj(f))>0}let cT=({source:a,sourceHandle:b,target:c,targetHandle:d})=>`xy-edge__${a}${b||""}-${c}${d||""}`,cU=(a,b,c={})=>{let d;if(!a.source||!a.target)return cq("006",bX.error006()),b;let e=c.getEdgeId||cT;return((a,b)=>b.some(b=>b.source===a.source&&b.target===a.target&&(b.sourceHandle===a.sourceHandle||!b.sourceHandle&&!a.sourceHandle)&&(b.targetHandle===a.targetHandle||!b.targetHandle&&!a.targetHandle)))(d=b2(a)?{...a}:{...a,id:e(a)},b)?b:(null===d.sourceHandle&&delete d.sourceHandle,null===d.targetHandle&&delete d.targetHandle,b.concat(d))};function cV({sourceX:a,sourceY:b,targetX:c,targetY:d}){let[e,f,g,h]=cQ({sourceX:a,sourceY:b,targetX:c,targetY:d});return[`M ${a},${b}L ${c},${d}`,e,f,g,h]}let cW={[j.Left]:{x:-1,y:0},[j.Right]:{x:1,y:0},[j.Top]:{x:0,y:-1},[j.Bottom]:{x:0,y:1}},cX=({source:a,sourcePosition:b=j.Bottom,target:c})=>b===j.Left||b===j.Right?a.x<c.x?{x:1,y:0}:{x:-1,y:0}:a.y<c.y?{x:0,y:1}:{x:0,y:-1},cY=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function cZ({sourceX:a,sourceY:b,sourcePosition:c=j.Bottom,targetX:d,targetY:e,targetPosition:f=j.Top,borderRadius:g=5,centerX:h,centerY:i,offset:k=20,stepPosition:l=.5}){let[m,n,o,p,q]=function({source:a,sourcePosition:b=j.Bottom,target:c,targetPosition:d=j.Top,center:e,offset:f,stepPosition:g}){let h,i,k=cW[b],l=cW[d],m={x:a.x+k.x*f,y:a.y+k.y*f},n={x:c.x+l.x*f,y:c.y+l.y*f},o=cX({source:m,sourcePosition:b,target:n}),p=0!==o.x?"x":"y",q=o[p],r=[],s={x:0,y:0},t={x:0,y:0},[,,u,v]=cQ({sourceX:a.x,sourceY:a.y,targetX:c.x,targetY:c.y});if(k[p]*l[p]==-1){"x"===p?(h=e.x??m.x+(n.x-m.x)*g,i=e.y??(m.y+n.y)/2):(h=e.x??(m.x+n.x)/2,i=e.y??m.y+(n.y-m.y)*g);let a=[{x:h,y:m.y},{x:h,y:n.y}],b=[{x:m.x,y:i},{x:n.x,y:i}];r=k[p]===q?"x"===p?a:b:"x"===p?b:a}else{let e=[{x:m.x,y:n.y}],g=[{x:n.x,y:m.y}];if(r="x"===p?k.x===q?g:e:k.y===q?e:g,b===d){let b=Math.abs(a[p]-c[p]);if(b<=f){let d=Math.min(f-1,f-b);k[p]===q?s[p]=(m[p]>a[p]?-1:1)*d:t[p]=(n[p]>c[p]?-1:1)*d}}if(b!==d){let a="x"===p?"y":"x",b=k[p]===l[a],c=m[a]>n[a],d=m[a]<n[a];(1===k[p]&&(!b&&c||b&&d)||1!==k[p]&&(!b&&d||b&&c))&&(r="x"===p?e:g)}let j={x:m.x+s.x,y:m.y+s.y},o={x:n.x+t.x,y:n.y+t.y};Math.max(Math.abs(j.x-r[0].x),Math.abs(o.x-r[0].x))>=Math.max(Math.abs(j.y-r[0].y),Math.abs(o.y-r[0].y))?(h=(j.x+o.x)/2,i=r[0].y):(h=r[0].x,i=(j.y+o.y)/2)}return[[a,{x:m.x+s.x,y:m.y+s.y},...r,{x:n.x+t.x,y:n.y+t.y},c],h,i,u,v]}({source:{x:a,y:b},sourcePosition:c,target:{x:d,y:e},targetPosition:f,center:{x:h,y:i},offset:k,stepPosition:l});return[m.reduce((a,b,c)=>a+(c>0&&c<m.length-1?function(a,b,c,d){let e=Math.min(cY(a,b)/2,cY(b,c)/2,d),{x:f,y:g}=b;if(a.x===f&&f===c.x||a.y===g&&g===c.y)return`L${f} ${g}`;if(a.y===g){let b=a.x<c.x?-1:1,d=a.y<c.y?1:-1;return`L ${f+e*b},${g}Q ${f},${g} ${f},${g+e*d}`}let h=a.x<c.x?1:-1,i=a.y<c.y?-1:1;return`L ${f},${g+e*i}Q ${f},${g} ${f+e*h},${g}`}(m[c-1],b,m[c+1],g):`${0===c?"M":"L"}${b.x} ${b.y}`),""),n,o,p,q]}function c$(a){return a&&!!(a.internals.handleBounds||a.handles?.length)&&!!(a.measured.width||a.width||a.initialWidth)}function c_(a){let{sourceNode:b,targetNode:c}=a;if(!c$(b)||!c$(c))return null;let d=b.internals.handleBounds||c0(b.handles),f=c.internals.handleBounds||c0(c.handles),g=c2(d?.source??[],a.sourceHandle),h=c2(a.connectionMode===e.Strict?f?.target??[]:(f?.target??[]).concat(f?.source??[]),a.targetHandle);if(!g||!h)return a.onError?.("008",bX.error008(!g?"source":"target",{id:a.id,sourceHandle:a.sourceHandle,targetHandle:a.targetHandle})),null;let i=g?.position||j.Bottom,k=h?.position||j.Top,l=c1(b,g,i),m=c1(c,h,k);return{sourceX:l.x,sourceY:l.y,targetX:m.x,targetY:m.y,sourcePosition:i,targetPosition:k}}function c0(a){if(!a)return null;let b=[],c=[];for(let d of a)d.width=d.width??1,d.height=d.height??1,"source"===d.type?b.push(d):"target"===d.type&&c.push(d);return{source:b,target:c}}function c1(a,b,c=j.Left,d=!1){let e=(b?.x??0)+a.internals.positionAbsolute.x,f=(b?.y??0)+a.internals.positionAbsolute.y,{width:g,height:h}=b??cy(a);if(d)return{x:e+g/2,y:f+h/2};switch(b?.position??c){case j.Top:return{x:e+g/2,y:f};case j.Right:return{x:e+g,y:f+h/2};case j.Bottom:return{x:e+g/2,y:f+h};case j.Left:return{x:e,y:f+h/2}}}function c2(a,b){return a&&(b?a.find(a=>a.id===b):a[0])||null}function c3(a,b){if(!a)return"";if("string"==typeof a)return a;let c=b?`${b}__`:"";return`${c}${Object.keys(a).sort().map(b=>`${b}=${a[b]}`).join("&")}`}function c4(a,{id:b,defaultColor:c,defaultMarkerStart:d,defaultMarkerEnd:e}){let f=new Set;return a.reduce((a,g)=>([g.markerStart||d,g.markerEnd||e].forEach(d=>{if(d&&"object"==typeof d){let e=c3(d,b);f.has(e)||(a.push({id:e,color:d.color||c,...d}),f.add(e))}}),a),[]).sort((a,b)=>a.id.localeCompare(b.id))}let c5={nodeOrigin:[0,0],nodeExtent:bY,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},c6={...c5,checkEquality:!0};function c7(a,b){let c={...a};for(let a in b)void 0!==b[a]&&(c[a]=b[a]);return c}function c8(a,b,c){let d=c7(c5,c);for(let c of a.values())if(c.parentId)db(c,a,b,d);else{let a=cd(b5(c,d.nodeOrigin),cx(c.extent)?c.extent:d.nodeExtent,cy(c));c.internals.positionAbsolute=a}}function c9(a){return"manual"===a}function da(a,b,c,d={}){let e=c7(c6,d),f={i:0},g=new Map(b),h=e?.elevateNodesOnSelect&&!c9(e.zIndexMode)?1e3:0,i=a.length>0;for(let j of(b.clear(),c.clear(),a)){let a=g.get(j.id);if(e.checkEquality&&j===a?.internals.userNode)b.set(j.id,a);else{let c=cd(b5(j,e.nodeOrigin),cx(j.extent)?j.extent:e.nodeExtent,cy(j));a={...e.defaults,...j,measured:{width:j.measured?.width,height:j.measured?.height},internals:{positionAbsolute:c,handleBounds:function(a,b){if(!a.handles)return a.measured?b?.internals.handleBounds:void 0;let c=[],d=[];for(let b of a.handles){let e={id:b.id,width:b.width??1,height:b.height??1,nodeId:a.id,x:b.x,y:b.y,position:b.position,type:b.type};"source"===b.type?c.push(e):"target"===b.type&&d.push(e)}return{source:c,target:d}}(j,a),z:dc(j,h,e.zIndexMode),userNode:j}},b.set(j.id,a)}void 0!==a.measured&&void 0!==a.measured.width&&void 0!==a.measured.height||a.hidden||(i=!1),j.parentId&&db(a,b,c,d,f)}return i}function db(a,b,c,d,e){let{elevateNodesOnSelect:f,nodeOrigin:g,nodeExtent:h,zIndexMode:i}=c7(c5,d),j=a.parentId,k=b.get(j);if(!k)return void console.warn(`Parent node ${j} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(a,b){if(!a.parentId)return;let c=b.get(a.parentId);c?c.set(a.id,a):b.set(a.parentId,new Map([[a.id,a]]))}(a,c),e&&!k.parentId&&void 0===k.internals.rootParentIndex&&"auto"===i&&(k.internals.rootParentIndex=++e.i,k.internals.z=k.internals.z+10*e.i),e&&void 0!==k.internals.rootParentIndex&&(e.i=k.internals.rootParentIndex);let{x:l,y:m,z:n}=function(a,b,c,d,e,f){let{x:g,y:h}=b.internals.positionAbsolute,i=cy(a),j=b5(a,c),k=cx(a.extent)?cd(j,a.extent,i):j,l=cd({x:g+k.x,y:h+k.y},d,i);"parent"===a.extent&&(l=ce(l,i,b));let m=dc(a,e,f),n=b.internals.z??0;return{x:l.x,y:l.y,z:n>=m?n+1:m}}(a,k,g,h,f&&!c9(i)?1e3:0,i),{positionAbsolute:o}=a.internals,p=l!==o.x||m!==o.y;(p||n!==a.internals.z)&&b.set(a.id,{...a,internals:{...a.internals,positionAbsolute:p?{x:l,y:m}:o,z:n}})}function dc(a,b,c){let d=cp(a.zIndex)?a.zIndex:0;return c9(c)?d:d+(a.selected?b:0)}function dd(a,b,c,d=[0,0]){let e=[],f=new Map;for(let c of a){let a=b.get(c.parentId);if(!a)continue;let d=cm(f.get(c.parentId)?.expandedRect??ck(a),c.rect);f.set(c.parentId,{expandedRect:d,parent:a})}return f.size>0&&f.forEach(({expandedRect:b,parent:f},g)=>{let h=f.internals.positionAbsolute,i=cy(f),j=f.origin??d,k=b.x<h.x?Math.round(Math.abs(h.x-b.x)):0,l=b.y<h.y?Math.round(Math.abs(h.y-b.y)):0,m=Math.max(i.width,Math.round(b.width)),n=Math.max(i.height,Math.round(b.height)),o=(m-i.width)*j[0],p=(n-i.height)*j[1];(k>0||l>0||o||p)&&(e.push({id:g,type:"position",position:{x:f.position.x-k+o,y:f.position.y-l+p}}),c.get(g)?.forEach(b=>{a.some(a=>a.id===b.id)||e.push({id:b.id,type:"position",position:{x:b.position.x+k,y:b.position.y+l}})})),(i.width<b.width||i.height<b.height||k||l)&&e.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:m+(k?j[0]*k-o:0),height:n+(l?j[1]*l-p:0)}})}),e}function de(a,b,c,d,e,f,g){let h=d?.querySelector(".xyflow__viewport"),i=!1;if(!h)return{changes:[],updatedInternals:i};let j=[],k=window.getComputedStyle(h),{m22:l}=new window.DOMMatrixReadOnly(k.transform),m=[];for(let d of a.values()){let a=b.get(d.id);if(!a)continue;if(a.hidden){b.set(a.id,{...a,internals:{...a.internals,handleBounds:void 0}}),i=!0;continue}let h=cF(d.nodeElement),k=a.measured.width!==h.width||a.measured.height!==h.height;if(h.width&&h.height&&(k||!a.internals.handleBounds||d.force)){let n=d.nodeElement.getBoundingClientRect(),o=cx(a.extent)?a.extent:f,{positionAbsolute:p}=a.internals;a.parentId&&"parent"===a.extent?p=ce(p,h,b.get(a.parentId)):o&&(p=cd(p,o,h));let q={...a,measured:h,internals:{...a.internals,positionAbsolute:p,handleBounds:{source:cL("source",d.nodeElement,n,l,a.id),target:cL("target",d.nodeElement,n,l,a.id)}}};b.set(a.id,q),a.parentId&&db(q,b,c,{nodeOrigin:e,zIndexMode:g}),i=!0,k&&(j.push({id:a.id,type:"dimensions",dimensions:h}),a.expandParent&&a.parentId&&m.push({id:a.id,parentId:a.parentId,rect:ck(q,e)}))}}if(m.length>0){let a=dd(m,b,c,e);j.push(...a)}return{changes:j,updatedInternals:i}}async function df({delta:a,panZoom:b,transform:c,translateExtent:d,width:e,height:f}){if(!b||!a.x&&!a.y)return Promise.resolve(!1);let g=await b.setViewportConstrained({x:c[0]+a.x,y:c[1]+a.y,zoom:c[2]},[[0,0],[e,f]],d);return Promise.resolve(!!g&&(g.x!==c[0]||g.y!==c[1]||g.k!==c[2]))}function dg(a,b,c,d,e,f){let g=e,h=d.get(g)||new Map;d.set(g,h.set(c,b)),g=`${e}-${a}`;let i=d.get(g)||new Map;if(d.set(g,i.set(c,b)),f){g=`${e}-${a}-${f}`;let h=d.get(g)||new Map;d.set(g,h.set(c,b))}}function dh(a,b,c){for(let d of(a.clear(),b.clear(),c)){let{source:c,target:e,sourceHandle:f=null,targetHandle:g=null}=d,h={edgeId:d.id,source:c,target:e,sourceHandle:f,targetHandle:g},i=`${c}-${f}--${e}-${g}`;dg("source",h,`${e}-${g}--${c}-${f}`,a,c,f),dg("target",h,i,a,e,g),b.set(d.id,d)}}function di(a,b,c){let d=a;do{if(d?.matches?.(b))return!0;if(d===c)break;d=d?.parentElement}while(d);return!1}function dj({nodeId:a,dragItems:b,nodeLookup:c,dragging:d=!0}){let e=[];for(let[a,f]of b){let b=c.get(a)?.internals.userNode;b&&e.push({...b,position:f.position,dragging:d})}if(!a)return[e[0],e];let f=c.get(a)?.internals.userNode;return[f?{...f,position:b.get(a)?.position||f.position,dragging:d}:e[0],e]}function dk({onNodeMouseDown:a,getStoreItems:b,onDragStart:c,onDrag:d,onDragStop:e}){let f={x:null,y:null},g=0,h=new Map,i=!1,j={x:0,y:0},k=null,l=!1,n=null,o=!1,p=!1,q=null;return{update:function({noDragClassName:r,handleSelector:s,domNode:t,isSelectable:u,nodeId:v,nodeClickDistance:w=0}){function x({x:a,y:c}){let{nodeLookup:e,nodeExtent:g,snapGrid:i,snapToGrid:j,nodeOrigin:k,onNodeDrag:l,onSelectionDrag:m,onError:n,updateNodePositions:o}=b();f={x:a,y:c};let r=!1,s=h.size>1,t=s&&g?ci(b7(h)):null,u=s&&j?function({dragItems:a,snapGrid:b,x:c,y:d}){let e=a.values().next().value;if(!e)return null;let f={x:c-e.distance.x,y:d-e.distance.y},g=cr(f,b);return{x:g.x-f.x,y:g.y-f.y}}({dragItems:h,snapGrid:i,x:a,y:c}):null;for(let[b,d]of h){if(!e.has(b))continue;let f={x:a-d.distance.x,y:c-d.distance.y};j&&(f=u?{x:Math.round(f.x+u.x),y:Math.round(f.y+u.y)}:cr(f,i));let h=null;if(s&&g&&!d.extent&&t){let{positionAbsolute:a}=d.internals,b=a.x-t.x+g[0][0],c=a.x+d.measured.width-t.x2+g[1][0];h=[[b,a.y-t.y+g[0][1]],[c,a.y+d.measured.height-t.y2+g[1][1]]]}let{position:l,positionAbsolute:m}=ca({nodeId:b,nextPosition:f,nodeLookup:e,nodeExtent:h||g,nodeOrigin:k,onError:n});r=r||d.position.x!==l.x||d.position.y!==l.y,d.position=l,d.internals.positionAbsolute=m}if(p=p||r,r&&(o(h,!0),q&&(d||l||!v&&m))){let[a,b]=dj({nodeId:v,dragItems:h,nodeLookup:e});d?.(q,h,a,b),l?.(q,a,b),v||m?.(q,b)}}async function y(){if(!k)return;let{transform:a,panBy:c,autoPanSpeed:d,autoPanOnNodeDrag:e}=b();if(!e){i=!1,cancelAnimationFrame(g);return}let[h,l]=cg(j,k,d);(0!==h||0!==l)&&(f.x=(f.x??0)-h/a[2],f.y=(f.y??0)-l/a[2],await c({x:h,y:l})&&x(f)),g=requestAnimationFrame(y)}function z(d){let{nodeLookup:e,multiSelectionActive:g,nodesDraggable:i,transform:j,snapGrid:m,snapToGrid:n,selectNodesOnDrag:o,onNodeDragStart:p,onSelectionDragStart:q,unselectNodesAndEdges:r}=b();l=!0,o&&u||g||!v||e.get(v)?.selected||r(),u&&o&&v&&a?.(v);let s=cE(d.sourceEvent,{transform:j,snapGrid:m,snapToGrid:n,containerBounds:k});if(f=s,(h=function(a,b,c,d){let e=new Map;for(let[f,g]of a)if((g.selected||g.id===d)&&(!g.parentId||!function a(b,c){if(!b.parentId)return!1;let d=c.get(b.parentId);return!!d&&(!!d.selected||a(d,c))}(g,a))&&(g.draggable||b&&void 0===g.draggable)){let b=a.get(f);b&&e.set(f,{id:f,position:b.position||{x:0,y:0},distance:{x:c.x-b.internals.positionAbsolute.x,y:c.y-b.internals.positionAbsolute.y},extent:b.extent,parentId:b.parentId,origin:b.origin,expandParent:b.expandParent,internals:{positionAbsolute:b.internals.positionAbsolute||{x:0,y:0}},measured:{width:b.measured.width??0,height:b.measured.height??0}})}return e}(e,i,s,v)).size>0&&(c||p||!v&&q)){let[a,b]=dj({nodeId:v,dragItems:h,nodeLookup:e});c?.(d.sourceEvent,h,a,b),p?.(d.sourceEvent,a,b),v||q?.(d.sourceEvent,b)}}n=ac(t);let A=(function(){var a,b,c,d,e=am,f=an,g=ao,h=ap,i={},j=m("start","drag","end"),k=0,l=0;function n(a){a.on("mousedown.drag",o).filter(h).on("touchstart.drag",r).on("touchmove.drag",s,ae).on("touchend.drag touchcancel.drag",t).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function o(g,h){if(!d&&e.call(this,g,h)){var i=u(this,f.call(this,g,h),g,h,"mouse");i&&(ac(g.view).on("mousemove.drag",p,af).on("mouseup.drag",q,af),ai(g.view),ag(g),c=!1,a=g.clientX,b=g.clientY,i("start",g))}}function p(d){if(ah(d),!c){var e=d.clientX-a,f=d.clientY-b;c=e*e+f*f>l}i.mouse("drag",d)}function q(a){ac(a.view).on("mousemove.drag mouseup.drag",null),aj(a.view,c),ah(a),i.mouse("end",a)}function r(a,b){if(e.call(this,a,b)){var c,d,g=a.changedTouches,h=f.call(this,a,b),i=g.length;for(c=0;c<i;++c)(d=u(this,h,a,b,g[c].identifier,g[c]))&&(ag(a),d("start",a,g[c]))}}function s(a){var b,c,d=a.changedTouches,e=d.length;for(b=0;b<e;++b)(c=i[d[b].identifier])&&(ah(a),c("drag",a,d[b]))}function t(a){var b,c,e=a.changedTouches,f=e.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<f;++b)(c=i[e[b].identifier])&&(ag(a),c("end",a,e[b]))}function u(a,b,c,d,e,f){var h,l,m,o=j.copy(),p=ad(f||c,b);if(null!=(m=g.call(a,new al("beforestart",{sourceEvent:c,target:n,identifier:e,active:k,x:p[0],y:p[1],dx:0,dy:0,dispatch:o}),d)))return h=m.x-p[0]||0,l=m.y-p[1]||0,function c(f,g,j){var q,r=p;switch(f){case"start":i[e]=c,q=k++;break;case"end":delete i[e],--k;case"drag":p=ad(j||g,b),q=k}o.call(f,a,new al(f,{sourceEvent:g,subject:m,target:n,identifier:e,active:q,x:p[0]+h,y:p[1]+l,dx:p[0]-r[0],dy:p[1]-r[1],dispatch:o}),d)}}return n.filter=function(a){return arguments.length?(e="function"==typeof a?a:ak(!!a),n):e},n.container=function(a){return arguments.length?(f="function"==typeof a?a:ak(a),n):f},n.subject=function(a){return arguments.length?(g="function"==typeof a?a:ak(a),n):g},n.touchable=function(a){return arguments.length?(h="function"==typeof a?a:ak(!!a),n):h},n.on=function(){var a=j.on.apply(j,arguments);return a===j?n:a},n.clickDistance=function(a){return arguments.length?(l=(a*=1)*a,n):Math.sqrt(l)},n})().clickDistance(w).on("start",a=>{let{domNode:c,nodeDragThreshold:d,transform:e,snapGrid:g,snapToGrid:h}=b();k=c?.getBoundingClientRect()||null,o=!1,p=!1,q=a.sourceEvent,0===d&&z(a),f=cE(a.sourceEvent,{transform:e,snapGrid:g,snapToGrid:h,containerBounds:k}),j=cK(a.sourceEvent,k)}).on("drag",a=>{let{autoPanOnNodeDrag:c,transform:d,snapGrid:e,snapToGrid:g,nodeDragThreshold:m,nodeLookup:n}=b(),p=cE(a.sourceEvent,{transform:d,snapGrid:e,snapToGrid:g,containerBounds:k});if(q=a.sourceEvent,("touchmove"===a.sourceEvent.type&&a.sourceEvent.touches.length>1||v&&!n.has(v))&&(o=!0),!o){if(!i&&c&&l&&(i=!0,y()),!l){let b=cK(a.sourceEvent,k),c=b.x-j.x,d=b.y-j.y;Math.sqrt(c*c+d*d)>m&&z(a)}(f.x!==p.xSnapped||f.y!==p.ySnapped)&&h&&l&&(j=cK(a.sourceEvent,k),x(p))}}).on("end",a=>{if(l&&!o&&(i=!1,l=!1,cancelAnimationFrame(g),h.size>0)){let{nodeLookup:c,updateNodePositions:d,onNodeDragStop:f,onSelectionDragStop:g}=b();if(p&&(d(h,!1),p=!1),e||f||!v&&g){let[b,d]=dj({nodeId:v,dragItems:h,nodeLookup:c,dragging:!1});e?.(a.sourceEvent,h,b,d),f?.(a.sourceEvent,b,d),v||g?.(a.sourceEvent,d)}}}).filter(a=>{let b=a.target;return!a.button&&(!r||!di(b,`.${r}`,t))&&(!s||di(b,s,t))});n.call(A)},destroy:function(){n?.on(".drag",null)}}}function dl(a,b,c,d,e,f=!1){let g=d.get(a);if(!g)return null;let h="strict"===e?g.internals.handleBounds?.[b]:[...g.internals.handleBounds?.source??[],...g.internals.handleBounds?.target??[]],i=(c?h?.find(a=>a.id===c):h?.[0])??null;return i&&f?{...i,...c1(g,i,i.position,!0)}:i}function dm(a,b){return a?a:b?.classList.contains("target")?"target":b?.classList.contains("source")?"source":null}let dn=()=>!0;function dp(a,{handle:b,connectionMode:c,fromNodeId:d,fromHandleId:f,fromType:g,doc:h,lib:i,flowId:j,isValidConnection:k=dn,nodeLookup:l}){let m="target"===g,n=b?h.querySelector(`.${i}-flow__handle[data-id="${j}-${b?.nodeId}-${b?.id}-${b?.type}"]`):null,{x:o,y:p}=cK(a),q=h.elementFromPoint(o,p),r=q?.classList.contains(`${i}-flow__handle`)?q:n,s={handleDomNode:r,isValid:!1,connection:null,toHandle:null};if(r){let a=dm(void 0,r),b=r.getAttribute("data-nodeid"),g=r.getAttribute("data-handleid"),h=r.classList.contains("connectable"),i=r.classList.contains("connectableend");if(!b||!a)return s;let j={source:m?b:d,sourceHandle:m?g:f,target:m?d:b,targetHandle:m?f:g};s.connection=j,s.isValid=h&&i&&(c===e.Strict?m&&"source"===a||!m&&"target"===a:b!==d||g!==f)&&k(j),s.toHandle=dl(b,a,g,l,c,!0)}return s}let dq={onPointerDown:function(a,{connectionMode:b,connectionRadius:c,handleId:d,nodeId:e,edgeUpdaterType:f,isTarget:g,domNode:h,nodeLookup:i,lib:k,autoPanOnConnect:l,flowId:m,panBy:n,cancelConnection:o,onConnectStart:p,onConnect:q,onConnectEnd:r,isValidConnection:s=dn,onReconnectEnd:t,updateConnection:u,getTransform:v,getFromHandle:w,autoPanSpeed:x,dragThreshold:y=1,handleDomNode:z}){let A,B=cG(a.target),C=0,{x:D,y:E}=cK(a),F=dm(f,z),G=h?.getBoundingClientRect(),H=!1;if(!G||!F)return;let I=dl(e,F,d,i,b);if(!I)return;let J=cK(a,G),K=!1,L=null,M=!1,N=null,O={...I,nodeId:e,type:F,position:I.position},P=i.get(e),Q={inProgress:!0,isValid:null,from:c1(P,O,j.Left,!0),fromHandle:O,fromPosition:O.position,fromNode:P,to:J,toHandle:null,toPosition:b0[O.position],toNode:null,pointer:J};function R(){H=!0,u(Q),p?.(a,{nodeId:e,handleId:d,handleType:F})}function S(a){var f,h;let o;if(!H){let{x:b,y:c}=cK(a),d=b-D,e=c-E;if(!(d*d+e*e>y*y))return;R()}if(!w()||!O)return void T(a);let p=v();A=function(a,b,c,d){let e=[],f=1/0;for(let g of function(a,b,c){let d=[],e={x:a.x-c,y:a.y-c,width:2*c,height:2*c};for(let a of b.values())cn(e,ck(a))>0&&d.push(a);return d}(a,c,b+250))for(let c of[...g.internals.handleBounds?.source??[],...g.internals.handleBounds?.target??[]]){if(d.nodeId===c.nodeId&&d.type===c.type&&d.id===c.id)continue;let{x:h,y:i}=c1(g,c,c.position,!0),j=Math.sqrt(Math.pow(h-a.x,2)+Math.pow(i-a.y,2));j>b||(j<f?(e=[{...c,x:h,y:i}],f=j):j===f&&e.push({...c,x:h,y:i}))}if(!e.length)return null;if(e.length>1){let a="source"===d.type?"target":"source";return e.find(b=>b.type===a)??e[0]}return e[0]}(cs(J=cK(a,G),p,!1,[1,1]),c,i,O),K||(!function a(){if(!l||!G)return;let[b,c]=cg(J,G,x);n({x:b,y:c}),C=requestAnimationFrame(a)}(),K=!0);let q=dp(a,{handle:A,connectionMode:b,fromNodeId:e,fromHandleId:d,fromType:g?"target":"source",isValidConnection:s,doc:B,lib:k,flowId:m,nodeLookup:i});N=q.handleDomNode,L=q.connection,f=!!A,h=q.isValid,o=null,h?o=!0:f&&!h&&(o=!1),M=o;let r=i.get(e),t=r?c1(r,O,j.Left,!0):Q.from,z={...Q,from:t,isValid:M,to:q.toHandle&&M?ct({x:q.toHandle.x,y:q.toHandle.y},p):J,toHandle:q.toHandle,toPosition:M&&q.toHandle?q.toHandle.position:b0[O.position],toNode:q.toHandle?i.get(q.toHandle.nodeId):null,pointer:J};u(z),Q=z}function T(a){if(!("touches"in a)||!(a.touches.length>0)){if(H){(A||N)&&L&&M&&q?.(L);let{inProgress:b,...c}=Q,d={...c,toPosition:Q.toHandle?Q.toPosition:null};r?.(a,d),f&&t?.(a,d)}o(),cancelAnimationFrame(C),K=!1,M=!1,L=null,N=null,B.removeEventListener("mousemove",S),B.removeEventListener("mouseup",T),B.removeEventListener("touchmove",S),B.removeEventListener("touchend",T)}}0===y&&R(),B.addEventListener("mousemove",S),B.addEventListener("mouseup",T),B.addEventListener("touchmove",S),B.addEventListener("touchend",T)},isValid:dp};function dr({domNode:a,panZoom:b,getTransform:c,getViewScale:d}){let e=ac(a);return{update:function({translateExtent:a,width:f,height:g,zoomStep:h=1,pannable:i=!0,zoomable:j=!0,inversePan:k=!1}){let l=[0,0],m=bV().on("start",a=>{("mousedown"===a.sourceEvent.type||"touchstart"===a.sourceEvent.type)&&(l=[a.sourceEvent.clientX??a.sourceEvent.touches[0].clientX,a.sourceEvent.clientY??a.sourceEvent.touches[0].clientY])}).on("zoom",i?e=>{let h=c();if("mousemove"!==e.sourceEvent.type&&"touchmove"!==e.sourceEvent.type||!b)return;let i=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY],j=[i[0]-l[0],i[1]-l[1]];l=i;let m=d()*Math.max(h[2],Math.log(h[2]))*(k?-1:1),n={x:h[0]-j[0]*m,y:h[1]-j[1]*m};b.setViewportConstrained({x:n.x,y:n.y,zoom:h[2]},[[0,0],[f,g]],a)}:null).on("zoom.wheel",j?a=>{if("wheel"!==a.sourceEvent.type||!b)return;let d=c(),e=a.sourceEvent.ctrlKey&&cw()?10:1,f=-a.sourceEvent.deltaY*(1===a.sourceEvent.deltaMode?.05:a.sourceEvent.deltaMode?1:.002)*h,g=d[2]*Math.pow(2,f*e);b.scaleTo(g)}:null);e.call(m,{})},destroy:function(){e.on("zoom",null)},pointer:ad}}let ds=a=>({x:a.x,y:a.y,zoom:a.k}),dt=({x:a,y:b,zoom:c})=>bL.translate(a,b).scale(c),du=(a,b)=>a.target.closest(`.${b}`),dv=(a,b)=>2===b&&Array.isArray(a)&&a.includes(2),dw=a=>((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2,dx=(a,b=0,c=dw,d=()=>{})=>{let e="number"==typeof b&&b>0;return e||d(),e?a.transition().duration(b).ease(c).on("end",d):a},dy=a=>{let b=a.ctrlKey&&cw()?10:1;return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*b};function dz({domNode:a,minZoom:b,maxZoom:c,translateExtent:d,viewport:e,onPanZoom:g,onPanZoomStart:h,onPanZoomEnd:i,onDraggingChange:j}){let k={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},l=a.getBoundingClientRect(),m=bV().scaleExtent([b,c]).translateExtent(d),n=ac(a).call(m);s({x:e.x,y:e.y,zoom:cc(e.zoom,b,c)},[[0,0],[l.width,l.height]],d);let o=n.on("wheel.zoom"),p=n.on("dblclick.zoom");function q(a,b){return n?new Promise(c=>{m?.interpolate(b?.interpolate==="linear"?bW:ar).transform(dx(n,b?.duration,b?.ease,()=>c(!0)),a)}):Promise.resolve(!1)}function r(){m.on("zoom",null)}async function s(a,b,c){let d=dt(a),e=m?.constrain()(d,b,c);return e&&await q(e),new Promise(a=>a(e))}return m.wheelDelta(dy),{update:function({noWheelClassName:a,noPanClassName:b,onPaneContextMenu:c,userSelectionActive:d,panOnScroll:e,panOnDrag:l,panOnScrollMode:q,panOnScrollSpeed:s,preventScrolling:t,zoomOnPinch:u,zoomOnScroll:v,zoomOnDoubleClick:w,zoomActivationKeyPressed:x,lib:y,onTransformChange:z,connectionInProgress:A,paneClickDistance:B,selectionOnDrag:C}){d&&!k.isZoomingOrPanning&&r();let D=e&&!x&&!d;m.clickDistance(C?1/0:!cp(B)||B<0?0:B);let E=D?function({zoomPanValues:a,noWheelClassName:b,d3Selection:c,d3Zoom:d,panOnScrollMode:e,panOnScrollSpeed:g,zoomOnPinch:h,onPanZoomStart:i,onPanZoom:j,onPanZoomEnd:k}){return l=>{if(du(l,b))return l.ctrlKey&&l.preventDefault(),!1;l.preventDefault(),l.stopImmediatePropagation();let m=c.property("__zoom").k||1;if(l.ctrlKey&&h){let a=ad(l),b=m*Math.pow(2,dy(l));d.scaleTo(c,b,a,l);return}let n=1===l.deltaMode?20:1,o=e===f.Vertical?0:l.deltaX*n,p=e===f.Horizontal?0:l.deltaY*n;!cw()&&l.shiftKey&&e!==f.Vertical&&(o=l.deltaY*n,p=0),d.translateBy(c,-(o/m)*g,-(p/m)*g,{internal:!0});let q=ds(c.property("__zoom"));clearTimeout(a.panScrollTimeout),a.isPanScrolling?(j?.(l,q),a.panScrollTimeout=setTimeout(()=>{k?.(l,q),a.isPanScrolling=!1},150)):(a.isPanScrolling=!0,i?.(l,q))}}({zoomPanValues:k,noWheelClassName:a,d3Selection:n,d3Zoom:m,panOnScrollMode:q,panOnScrollSpeed:s,zoomOnPinch:u,onPanZoomStart:h,onPanZoom:g,onPanZoomEnd:i}):function({noWheelClassName:a,preventScrolling:b,d3ZoomHandler:c}){return function(d,e){let f="wheel"===d.type,g=!b&&f&&!d.ctrlKey,h=du(d,a);if(d.ctrlKey&&f&&h&&d.preventDefault(),g||h)return null;d.preventDefault(),c.call(this,d,e)}}({noWheelClassName:a,preventScrolling:t,d3ZoomHandler:o});if(n.on("wheel.zoom",E,{passive:!1}),!d){let a=function({zoomPanValues:a,onDraggingChange:b,onPanZoomStart:c}){return d=>{if(d.sourceEvent?.internal)return;let e=ds(d.transform);a.mouseButton=d.sourceEvent?.button||0,a.isZoomingOrPanning=!0,a.prevViewport=e,d.sourceEvent?.type==="mousedown"&&b(!0),c&&c?.(d.sourceEvent,e)}}({zoomPanValues:k,onDraggingChange:j,onPanZoomStart:h});m.on("start",a);let b=function({zoomPanValues:a,panOnDrag:b,onPaneContextMenu:c,onTransformChange:d,onPanZoom:e}){return f=>{a.usedRightMouseButton=!!(c&&dv(b,a.mouseButton??0)),f.sourceEvent?.sync||d([f.transform.x,f.transform.y,f.transform.k]),e&&!f.sourceEvent?.internal&&e?.(f.sourceEvent,ds(f.transform))}}({zoomPanValues:k,panOnDrag:l,onPaneContextMenu:!!c,onPanZoom:g,onTransformChange:z});m.on("zoom",b);let d=function({zoomPanValues:a,panOnDrag:b,panOnScroll:c,onDraggingChange:d,onPanZoomEnd:e,onPaneContextMenu:f}){return g=>{if(!g.sourceEvent?.internal&&(a.isZoomingOrPanning=!1,f&&dv(b,a.mouseButton??0)&&!a.usedRightMouseButton&&g.sourceEvent&&f(g.sourceEvent),a.usedRightMouseButton=!1,d(!1),e)){let b=ds(g.transform);a.prevViewport=b,clearTimeout(a.timerId),a.timerId=setTimeout(()=>{e?.(g.sourceEvent,b)},150*!!c)}}}({zoomPanValues:k,panOnDrag:l,panOnScroll:e,onPaneContextMenu:c,onPanZoomEnd:i,onDraggingChange:j});m.on("end",d)}let F=function({zoomActivationKeyPressed:a,zoomOnScroll:b,zoomOnPinch:c,panOnDrag:d,panOnScroll:e,zoomOnDoubleClick:f,userSelectionActive:g,noWheelClassName:h,noPanClassName:i,lib:j,connectionInProgress:k}){return l=>{let m=a||b,n=c&&l.ctrlKey,o="wheel"===l.type;if(1===l.button&&"mousedown"===l.type&&(du(l,`${j}-flow__node`)||du(l,`${j}-flow__edge`)))return!0;if(!d&&!m&&!e&&!f&&!c||g||k&&!o||du(l,h)&&o||du(l,i)&&(!o||e&&o&&!a)||!c&&l.ctrlKey&&o)return!1;if(!c&&"touchstart"===l.type&&l.touches?.length>1)return l.preventDefault(),!1;if(!m&&!e&&!n&&o||!d&&("mousedown"===l.type||"touchstart"===l.type)||Array.isArray(d)&&!d.includes(l.button)&&"mousedown"===l.type)return!1;let p=Array.isArray(d)&&d.includes(l.button)||!l.button||l.button<=1;return(!l.ctrlKey||o)&&p}}({zoomActivationKeyPressed:x,panOnDrag:l,zoomOnScroll:v,panOnScroll:e,zoomOnDoubleClick:w,zoomOnPinch:u,userSelectionActive:d,noPanClassName:b,noWheelClassName:a,lib:y,connectionInProgress:A});m.filter(F),w?n.on("dblclick.zoom",p):n.on("dblclick.zoom",null)},destroy:r,setViewport:async function a(a,b){let c=dt(a);return await q(c,b),new Promise(a=>a(c))},setViewportConstrained:s,getViewport:function(){let a=n?bM(n.node()):{x:0,y:0,k:1};return{x:a.x,y:a.y,zoom:a.k}},scaleTo:function(a,b){return n?new Promise(c=>{m?.interpolate(b?.interpolate==="linear"?bW:ar).scaleTo(dx(n,b?.duration,b?.ease,()=>c(!0)),a)}):Promise.resolve(!1)},scaleBy:function(a,b){return n?new Promise(c=>{m?.interpolate(b?.interpolate==="linear"?bW:ar).scaleBy(dx(n,b?.duration,b?.ease,()=>c(!0)),a)}):Promise.resolve(!1)},setScaleExtent:function(a){m?.scaleExtent(a)},setTranslateExtent:function(a){m?.translateExtent(a)},syncViewport:function(a){if(n){let b=dt(a),c=n.property("__zoom");(c.k!==a.zoom||c.x!==a.x||c.y!==a.y)&&m?.transform(n,b,null,{sync:!0})}},setClickDistance:function(a){let b=!cp(a)||a<0?0:a;m?.clickDistance(b)}}}!function(a){a.Line="line",a.Handle="handle"}(k||(k={}))},74946:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(83063).A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},86563:(a,b,c)=>{"use strict";c.d(b,{VS:()=>bz,H2:()=>bI,h7:()=>av,Gc:()=>bt,Ln:()=>bq,zW:()=>V,_0:()=>U,VH:()=>af});var d,e=c(55016),f=c(43161);function g(a){if("string"==typeof a||"number"==typeof a)return""+a;let b="";if(Array.isArray(a))for(let c=0,d;c<a.length;c++)""!==(d=g(a[c]))&&(b+=(b&&" ")+d);else for(let c in a)a[c]&&(b+=(b&&" ")+c);return b}var h=c(65033),i=c(1578);let j=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),c.clear()}},g=b=a(d,e,f);return f},{useDebugValue:k}=f,{useSyncExternalStoreWithSelector:l}=i,m=a=>a;function n(a,b=m,c){let d=l(a.subscribe,a.getState,a.getServerState||a.getInitialState,b,c);return k(d),d}let o=(a,b)=>{let c=(a=>a?j(a):j)(a),d=(a,d=b)=>n(c,a,d);return Object.assign(d,c),d};function p(a,b){if(Object.is(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(let[c,d]of a)if(!Object.is(d,b.get(c)))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0}let c=Object.keys(a);if(c.length!==Object.keys(b).length)return!1;for(let d of c)if(!Object.prototype.hasOwnProperty.call(b,d)||!Object.is(a[d],b[d]))return!1;return!0}c(47100);let q=(0,f.createContext)(null),r=q.Provider,s=h.xc.error001();function t(a,b){let c=(0,f.useContext)(q);if(null===c)throw Error(s);return n(c,a,b)}function u(){let a=(0,f.useContext)(q);if(null===a)throw Error(s);return(0,f.useMemo)(()=>({getState:a.getState,setState:a.setState,subscribe:a.subscribe}),[a])}let v={display:"none"},w={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},x="react-flow__node-desc",y="react-flow__edge-desc",z=a=>a.ariaLiveMessage,A=a=>a.ariaLabelConfig;function B({rfId:a}){let b=t(z);return(0,e.jsx)("div",{id:`react-flow__aria-live-${a}`,"aria-live":"assertive","aria-atomic":"true",style:w,children:b})}function C({rfId:a,disableKeyboardA11y:b}){let c=t(A);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{id:`${x}-${a}`,style:v,children:b?c["node.a11yDescription.default"]:c["node.a11yDescription.keyboardDisabled"]}),(0,e.jsx)("div",{id:`${y}-${a}`,style:v,children:c["edge.a11yDescription.default"]}),!b&&(0,e.jsx)(B,{rfId:a})]})}let D=(0,f.forwardRef)(({position:a="top-left",children:b,className:c,style:d,...f},h)=>{let i=`${a}`.split("-");return(0,e.jsx)("div",{className:g(["react-flow__panel",c,...i]),style:d,ref:h,...f,children:b})});function E({proOptions:a,position:b="bottom-right"}){return a?.hideAttribution?null:(0,e.jsx)(D,{position:b,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,e.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}D.displayName="Panel";let F=a=>{let b=[],c=[];for(let[,c]of a.nodeLookup)c.selected&&b.push(c.internals.userNode);for(let[,b]of a.edgeLookup)b.selected&&c.push(b);return{selectedNodes:b,selectedEdges:c}},G=a=>a.id;function H(a,b){return p(a.selectedNodes.map(G),b.selectedNodes.map(G))&&p(a.selectedEdges.map(G),b.selectedEdges.map(G))}function I({onSelectionChange:a}){u();let{selectedNodes:b,selectedEdges:c}=t(F,H);return null}let J=a=>!!a.onSelectionChangeHandlers;function K({onSelectionChange:a}){let b=t(J);return a||b?(0,e.jsx)(I,{onSelectionChange:a}):null}let L=[0,0],M={x:0,y:0,zoom:1},N=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode","rfId"],O=a=>({setNodes:a.setNodes,setEdges:a.setEdges,setMinZoom:a.setMinZoom,setMaxZoom:a.setMaxZoom,setTranslateExtent:a.setTranslateExtent,setNodeExtent:a.setNodeExtent,reset:a.reset,setDefaultNodesAndEdges:a.setDefaultNodesAndEdges}),P={translateExtent:h.ZO,nodeOrigin:L,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Q(a){let{setNodes:b,setEdges:c,setMinZoom:d,setMaxZoom:e,setTranslateExtent:g,setNodeExtent:i,reset:j,setDefaultNodesAndEdges:k}=t(O,p),l=u(),m=(0,f.useRef)(P);return(0,f.useEffect)(()=>{for(let f of N){let j=a[f];j!==m.current[f]&&void 0!==a[f]&&("nodes"===f?b(j):"edges"===f?c(j):"minZoom"===f?d(j):"maxZoom"===f?e(j):"translateExtent"===f?g(j):"nodeExtent"===f?i(j):"ariaLabelConfig"===f?l.setState({ariaLabelConfig:(0,h.Q6)(j)}):"fitView"===f?l.setState({fitViewQueued:j}):"fitViewOptions"===f?l.setState({fitViewOptions:j}):l.setState({[f]:j}))}m.current=a},N.map(b=>a[b])),null}let R="undefined"!=typeof document?document:null;function S(a=null,b={target:R,actInsideInputWithModifier:!0}){let[c,d]=(0,f.useState)(!1);(0,f.useRef)(!1),(0,f.useRef)(new Set([]));let[e,g]=(0,f.useMemo)(()=>{if(null!==a){let b=(Array.isArray(a)?a:[a]).filter(a=>"string"==typeof a).map(a=>a.replace("+","\n").replace("\n\n","\n+").split("\n")),c=b.reduce((a,b)=>a.concat(...b),[]);return[b,c]}return[[],[]]},[a]);return c}function T(a,b){let c=[],d=new Map,e=[];for(let b of a)if("add"===b.type){e.push(b);continue}else if("remove"===b.type||"replace"===b.type)d.set(b.id,[b]);else{let a=d.get(b.id);a?a.push(b):d.set(b.id,[b])}for(let a of b){let b=d.get(a.id);if(!b){c.push(a);continue}if("remove"===b[0].type)continue;if("replace"===b[0].type){c.push({...b[0].item});continue}let e={...a};for(let a of b){var f=a,g=e;switch(f.type){case"select":g.selected=f.selected;break;case"position":void 0!==f.position&&(g.position=f.position),void 0!==f.dragging&&(g.dragging=f.dragging);break;case"dimensions":void 0!==f.dimensions&&(g.measured={...f.dimensions},f.setAttributes&&((!0===f.setAttributes||"width"===f.setAttributes)&&(g.width=f.dimensions.width),(!0===f.setAttributes||"height"===f.setAttributes)&&(g.height=f.dimensions.height))),"boolean"==typeof f.resizing&&(g.resizing=f.resizing)}}c.push(e)}return e.length&&e.forEach(a=>{void 0!==a.index?c.splice(a.index,0,{...a.item}):c.push({...a.item})}),c}function U(a,b){return T(a,b)}function V(a,b){return T(a,b)}function W(a,b){return{id:a,type:"select",selected:b}}function X(a,b=new Set,c=!1){let d=[];for(let[e,f]of a){let a=b.has(e);(void 0!==f.selected||a)&&f.selected!==a&&(c&&(f.selected=a),d.push(W(f.id,a)))}return d}function Y({items:a=[],lookup:b}){let c=[],d=new Map(a.map(a=>[a.id,a]));for(let[d,e]of a.entries()){let a=b.get(e.id),f=a?.internals?.userNode??a;void 0!==f&&f!==e&&c.push({id:e.id,item:e,type:"replace"}),void 0===f&&c.push({item:e,type:"add",index:d})}for(let[a]of b)void 0===d.get(a)&&c.push({id:a,type:"remove"});return c}function Z(a){return{id:a.id,type:"remove"}}let $=a=>(0,h.oB)(a);function _(a){return(0,f.forwardRef)(a)}let aa=f.useEffect;function ab(a){let[b,c]=(0,f.useState)(BigInt(0)),[d]=(0,f.useState)(()=>{var a;let b;return a=()=>c(a=>a+BigInt(1)),b=[],{get:()=>b,reset:()=>{b=[]},push:c=>{b.push(c),a()}}});return aa(()=>{let b=d.get();b.length&&(a(b),d.reset())},[b]),d}let ac=(0,f.createContext)(null);function ad({children:a}){let b=u(),c=ab((0,f.useCallback)(a=>{let{nodes:c=[],setNodes:d,hasDefaultNodes:e,onNodesChange:f,nodeLookup:g,fitViewQueued:h,onNodesChangeMiddlewareMap:i}=b.getState(),j=c;for(let b of a)j="function"==typeof b?b(j):b;let k=Y({items:j,lookup:g});for(let a of i.values())k=a(k);e&&d(j),k.length>0?f?.(k):h&&window.requestAnimationFrame(()=>{let{fitViewQueued:a,nodes:c,setNodes:d}=b.getState();a&&d(c)})},[])),d=ab((0,f.useCallback)(a=>{let{edges:c=[],setEdges:d,hasDefaultEdges:e,onEdgesChange:f,edgeLookup:g}=b.getState(),h=c;for(let b of a)h="function"==typeof b?b(h):b;e?d(h):f&&f(Y({items:h,lookup:g}))},[])),g=(0,f.useMemo)(()=>({nodeQueue:c,edgeQueue:d}),[]);return(0,e.jsx)(ac.Provider,{value:g,children:a})}let ae=a=>!!a.panZoom;function af(){let a=(()=>{let a=u();return(0,f.useMemo)(()=>({zoomIn:b=>{let{panZoom:c}=a.getState();return c?c.scaleBy(1.2,{duration:b?.duration}):Promise.resolve(!1)},zoomOut:b=>{let{panZoom:c}=a.getState();return c?c.scaleBy(1/1.2,{duration:b?.duration}):Promise.resolve(!1)},zoomTo:(b,c)=>{let{panZoom:d}=a.getState();return d?d.scaleTo(b,{duration:c?.duration}):Promise.resolve(!1)},getZoom:()=>a.getState().transform[2],setViewport:async(b,c)=>{let{transform:[d,e,f],panZoom:g}=a.getState();return g?(await g.setViewport({x:b.x??d,y:b.y??e,zoom:b.zoom??f},c),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[b,c,d]=a.getState().transform;return{x:b,y:c,zoom:d}},setCenter:async(b,c,d)=>a.getState().setCenter(b,c,d),fitBounds:async(b,c)=>{let{width:d,height:e,minZoom:f,maxZoom:g,panZoom:i}=a.getState(),j=(0,h.R4)(b,d,e,f,g,c?.padding??.1);return i?(await i.setViewport(j,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(b,c={})=>{let{transform:d,snapGrid:e,snapToGrid:f,domNode:g}=a.getState();if(!g)return b;let{x:i,y:j}=g.getBoundingClientRect(),k={x:b.x-i,y:b.y-j},l=c.snapGrid??e,m=c.snapToGrid??f;return(0,h.Ff)(k,d,m,l)},flowToScreenPosition:b=>{let{transform:c,domNode:d}=a.getState();if(!d)return b;let{x:e,y:f}=d.getBoundingClientRect(),g=(0,h.zj)(b,c);return{x:g.x+e,y:g.y+f}}}),[])})(),b=u(),c=function(){let a=(0,f.useContext)(ac);if(!a)throw Error("useBatchContext must be used within a BatchProvider");return a}(),d=t(ae),e=(0,f.useMemo)(()=>{let a=a=>b.getState().nodeLookup.get(a),d=a=>{c.nodeQueue.push(a)},e=a=>{c.edgeQueue.push(a)},f=a=>{let{nodeLookup:c,nodeOrigin:d}=b.getState(),e=$(a)?a:c.get(a.id),f=e.parentId?(0,h.us)(e.position,e.measured,e.parentId,c,d):e.position,g={...e,position:f,width:e.measured?.width??e.width,height:e.measured?.height??e.height};return(0,h.kM)(g)},g=(a,b,c={replace:!1})=>{d(d=>d.map(d=>{if(d.id===a){let a="function"==typeof b?b(d):b;return c.replace&&$(a)?a:{...d,...a}}return d}))},i=(a,b,c={replace:!1})=>{e(d=>d.map(d=>{if(d.id===a){let a="function"==typeof b?b(d):b;return c.replace&&(0,h.b$)(a)?a:{...d,...a}}return d}))};return{getNodes:()=>b.getState().nodes.map(a=>({...a})),getNode:b=>a(b)?.internals.userNode,getInternalNode:a,getEdges:()=>{let{edges:a=[]}=b.getState();return a.map(a=>({...a}))},getEdge:a=>b.getState().edgeLookup.get(a),setNodes:d,setEdges:e,addNodes:a=>{let b=Array.isArray(a)?a:[a];c.nodeQueue.push(a=>[...a,...b])},addEdges:a=>{let b=Array.isArray(a)?a:[a];c.edgeQueue.push(a=>[...a,...b])},toObject:()=>{let{nodes:a=[],edges:c=[],transform:d}=b.getState(),[e,f,g]=d;return{nodes:a.map(a=>({...a})),edges:c.map(a=>({...a})),viewport:{x:e,y:f,zoom:g}}},deleteElements:async({nodes:a=[],edges:c=[]})=>{let{nodes:d,edges:e,onNodesDelete:f,onEdgesDelete:g,triggerNodeChanges:i,triggerEdgeChanges:j,onDelete:k,onBeforeDelete:l}=b.getState(),{nodes:m,edges:n}=await (0,h.Tq)({nodesToRemove:a,edgesToRemove:c,nodes:d,edges:e,onBeforeDelete:l}),o=n.length>0,p=m.length>0;if(o){let a=n.map(Z);g?.(n),j(a)}if(p){let a=m.map(Z);f?.(m),i(a)}return(p||o)&&k?.({nodes:m,edges:n}),{deletedNodes:m,deletedEdges:n}},getIntersectingNodes:(a,c=!0,d)=>{let e=(0,h.mW)(a),g=e?a:f(a),i=void 0!==d;return g?(d||b.getState().nodes).filter(d=>{let f=b.getState().nodeLookup.get(d.id);if(f&&!e&&(d.id===a.id||!f.internals.positionAbsolute))return!1;let j=(0,h.kM)(i?d:f),k=(0,h.X6)(j,g);return c&&k>0||k>=j.width*j.height||k>=g.width*g.height}):[]},isNodeIntersecting:(a,b,c=!0)=>{let d=(0,h.mW)(a)?a:f(a);if(!d)return!1;let e=(0,h.X6)(d,b);return c&&e>0||e>=b.width*b.height||e>=d.width*d.height},updateNode:g,updateNodeData:(a,b,c={replace:!1})=>{g(a,a=>{let d="function"==typeof b?b(a):b;return c.replace?{...a,data:d}:{...a,data:{...a.data,...d}}},c)},updateEdge:i,updateEdgeData:(a,b,c={replace:!1})=>{i(a,a=>{let d="function"==typeof b?b(a):b;return c.replace?{...a,data:d}:{...a,data:{...a.data,...d}}},c)},getNodesBounds:a=>{let{nodeLookup:c,nodeOrigin:d}=b.getState();return(0,h.Jo)(a,{nodeLookup:c,nodeOrigin:d})},getHandleConnections:({type:a,id:c,nodeId:d})=>Array.from(b.getState().connectionLookup.get(`${d}-${a}${c?`-${c}`:""}`)?.values()??[]),getNodeConnections:({type:a,handleId:c,nodeId:d})=>Array.from(b.getState().connectionLookup.get(`${d}${a?c?`-${a}-${c}`:`-${a}`:""}`)?.values()??[]),fitView:async a=>{let d=b.getState().fitViewResolver??(0,h.YN)();return b.setState({fitViewQueued:!0,fitViewOptions:a,fitViewResolver:d}),c.nodeQueue.push(a=>[...a]),d.promise}}},[]);return(0,f.useMemo)(()=>({...e,...a,viewportInitialized:d}),[d])}let ag=void 0,ah={position:"absolute",width:"100%",height:"100%",top:0,left:0},ai=a=>({userSelectionActive:a.userSelectionActive,lib:a.lib,connectionInProgress:a.connection.inProgress});function aj({onPaneContextMenu:a,zoomOnScroll:b=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:g=.5,panOnScrollMode:i=h.ny.Free,zoomOnDoubleClick:j=!0,panOnDrag:k=!0,defaultViewport:l,translateExtent:m,minZoom:n,maxZoom:o,zoomActivationKeyCode:q,preventScrolling:r=!0,children:s,noWheelClassName:v,noPanClassName:w,onViewportChange:x,isControlledViewport:y,paneClickDistance:z,selectionOnDrag:A}){let B=u(),C=(0,f.useRef)(null),{userSelectionActive:D,lib:E,connectionInProgress:F}=t(ai,p);return S(q),(0,f.useRef)(),u(),(0,f.useCallback)(a=>{x?.({x:a[0],y:a[1],zoom:a[2]}),y||B.setState({transform:a})},[x,y]),(0,e.jsx)("div",{className:"react-flow__renderer",ref:C,style:ah,children:s})}let ak=a=>({userSelectionActive:a.userSelectionActive,userSelectionRect:a.userSelectionRect});function al(){let{userSelectionActive:a,userSelectionRect:b}=t(ak,p);return a&&b?(0,e.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:b.width,height:b.height,transform:`translate(${b.x}px, ${b.y}px)`}}):null}let am=(a,b)=>c=>{c.target===b.current&&a?.(c)},an=a=>({userSelectionActive:a.userSelectionActive,elementsSelectable:a.elementsSelectable,connectionInProgress:a.connection.inProgress,dragging:a.paneDragging});function ao({isSelecting:a,selectionKeyPressed:b,selectionMode:c=h.Qc.Full,panOnDrag:d,paneClickDistance:i,selectionOnDrag:j,onSelectionStart:k,onSelectionEnd:l,onPaneClick:m,onPaneContextMenu:n,onPaneScroll:o,onPaneMouseEnter:q,onPaneMouseMove:r,onPaneMouseLeave:s,children:v}){let w=u(),{userSelectionActive:x,elementsSelectable:y,dragging:z,connectionInProgress:A}=t(an,p),B=y&&(a||x),C=(0,f.useRef)(null),D=(0,f.useRef)(),E=(0,f.useRef)(new Set),F=(0,f.useRef)(new Set),G=(0,f.useRef)(!1),H=a=>{if(G.current||A){G.current=!1;return}m?.(a),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},I=!0===d||Array.isArray(d)&&d.includes(0);return(0,e.jsxs)("div",{className:g(["react-flow__pane",{draggable:I,dragging:z,selection:a}]),onClick:B?void 0:am(H,C),onContextMenu:am(a=>{if(Array.isArray(d)&&d?.includes(2))return void a.preventDefault();n?.(a)},C),onWheel:am(o?a=>o(a):void 0,C),onPointerEnter:B?void 0:q,onPointerMove:B?a=>{let{userSelectionRect:d,transform:e,nodeLookup:f,edgeLookup:g,connectionLookup:j,triggerNodeChanges:l,triggerEdgeChanges:m,defaultEdgeOptions:n,resetSelectedElements:o}=w.getState();if(!D.current||!d)return;let{x:p,y:q}=(0,h.q1)(a.nativeEvent,D.current),{startX:r,startY:s}=d;if(!G.current){if(Math.hypot(p-r,q-s)<=(b?0:i))return;o(),k?.(a)}G.current=!0;let t={startX:r,startY:s,x:p<r?p:r,y:q<s?q:s,width:Math.abs(p-r),height:Math.abs(q-s)},u=E.current,v=F.current;E.current=new Set((0,h.U$)(f,t,e,c===h.Qc.Partial,!0).map(a=>a.id)),F.current=new Set;let x=n?.selectable??!0;for(let a of E.current){let b=j.get(a);if(b)for(let{edgeId:a}of b.values()){let b=g.get(a);b&&(b.selectable??x)&&F.current.add(a)}}(0,h._s)(u,E.current)||l(X(f,E.current,!0)),(0,h._s)(v,F.current)||m(X(g,F.current)),w.setState({userSelectionRect:t,userSelectionActive:!0,nodesSelectionActive:!1})}:r,onPointerUp:B?a=>{0===a.button&&(a.target?.releasePointerCapture?.(a.pointerId),!x&&a.target===C.current&&w.getState().userSelectionRect&&H?.(a),w.setState({userSelectionActive:!1,userSelectionRect:null}),G.current&&(l?.(a),w.setState({nodesSelectionActive:E.current.size>0})))}:void 0,onPointerDownCapture:B?c=>{let{domNode:d}=w.getState();if(D.current=d?.getBoundingClientRect(),!D.current)return;let e=c.target===C.current;if(!e&&c.target.closest(".nokey")||!a||!(j&&e||b)||0!==c.button||!c.isPrimary)return;c.target?.setPointerCapture?.(c.pointerId),G.current=!1;let{x:f,y:g}=(0,h.q1)(c.nativeEvent,D.current);w.setState({userSelectionRect:{width:0,height:0,startX:f,startY:g,x:f,y:g}}),e||(c.stopPropagation(),c.preventDefault())}:void 0,onClickCapture:B?a=>{G.current&&(a.stopPropagation(),G.current=!1)}:void 0,onPointerLeave:s,ref:C,style:ah,children:[v,(0,e.jsx)(al,{})]})}function ap({id:a,store:b,unselect:c=!1,nodeRef:d}){let{addSelectedNodes:e,unselectNodesAndEdges:f,multiSelectionActive:g,nodeLookup:i,onError:j}=b.getState(),k=i.get(a);if(!k)return void j?.("012",h.xc.error012(a));b.setState({nodesSelectionActive:!1}),k.selected?(c||k.selected&&g)&&(f({nodes:[k],edges:[]}),requestAnimationFrame(()=>d?.current?.blur())):e([a])}function aq({nodeRef:a,disabled:b=!1,noDragClassName:c,handleSelector:d,nodeId:e,isSelectable:g,nodeClickDistance:h}){u();let[i,j]=(0,f.useState)(!1);return(0,f.useRef)(),i}function ar(){let a=u();return(0,f.useCallback)(b=>{let{nodeExtent:c,snapToGrid:d,snapGrid:e,nodesDraggable:f,onError:g,updateNodePositions:i,nodeLookup:j,nodeOrigin:k}=a.getState(),l=new Map,m=a=>a.selected&&(a.draggable||f&&void 0===a.draggable),n=d?e[0]:5,o=d?e[1]:5,p=b.direction.x*n*b.factor,q=b.direction.y*o*b.factor;for(let[,a]of j){if(!m(a))continue;let b={x:a.internals.positionAbsolute.x+p,y:a.internals.positionAbsolute.y+q};d&&(b=(0,h.s_)(b,e));let{position:f,positionAbsolute:i}=(0,h.aE)({nodeId:a.id,nextPosition:b,nodeLookup:j,nodeExtent:c,nodeOrigin:k,onError:g});a.position=f,a.internals.positionAbsolute=i,l.set(a.id,a)}i(l)},[])}let as=(0,f.createContext)(null),at=as.Provider;as.Consumer;let au=a=>({connectOnClick:a.connectOnClick,noPanClassName:a.noPanClassName,rfId:a.rfId}),av=(0,f.memo)(_(function({type:a="source",position:b=h.yX.Top,isValidConnection:c,isConnectable:d=!0,isConnectableStart:i=!0,isConnectableEnd:j=!0,id:k,onConnect:l,children:m,className:n,onMouseDown:o,onTouchStart:q,...r},s){let v=k||null,w="target"===a,x=u(),y=(0,f.useContext)(as),{connectOnClick:z,noPanClassName:A,rfId:B}=t(au,p),{connectingFrom:C,connectingTo:D,clickConnecting:E,isPossibleEndHandle:F,connectionInProcess:G,clickConnectionInProcess:H,valid:I}=t(b=>{let{connectionClickStartHandle:c,connectionMode:d,connection:e}=b,{fromHandle:f,toHandle:g,isValid:i}=e,j=g?.nodeId===y&&g?.id===v&&g?.type===a;return{connectingFrom:f?.nodeId===y&&f?.id===v&&f?.type===a,connectingTo:j,clickConnecting:c?.nodeId===y&&c?.id===v&&c?.type===a,isPossibleEndHandle:d===h.WZ.Strict?f?.type!==a:y!==f?.nodeId||v!==f?.id,connectionInProcess:!!f,clickConnectionInProcess:!!c,valid:j&&i}},p);y||x.getState().onError?.("010",h.xc.error010());let J=a=>{let{defaultEdgeOptions:b,onConnect:c,hasDefaultEdges:d}=x.getState(),e={...b,...a};if(d){let{edges:a,setEdges:b}=x.getState();b((0,h.rN)(e,a))}c?.(e),l?.(e)},K=a=>{if(!y)return;let b=(0,h.Er)(a.nativeEvent);if(i&&(b&&0===a.button||!b)){let b=x.getState();h.aQ.onPointerDown(a.nativeEvent,{handleDomNode:a.currentTarget,autoPanOnConnect:b.autoPanOnConnect,connectionMode:b.connectionMode,connectionRadius:b.connectionRadius,domNode:b.domNode,nodeLookup:b.nodeLookup,lib:b.lib,isTarget:w,handleId:v,nodeId:y,flowId:b.rfId,panBy:b.panBy,cancelConnection:b.cancelConnection,onConnectStart:b.onConnectStart,onConnectEnd:b.onConnectEnd,updateConnection:b.updateConnection,onConnect:J,isValidConnection:c||b.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:b.autoPanSpeed,dragThreshold:b.connectionDragThreshold})}b?o?.(a):q?.(a)};return(0,e.jsx)("div",{"data-handleid":v,"data-nodeid":y,"data-handlepos":b,"data-id":`${B}-${y}-${v}-${a}`,className:g(["react-flow__handle",`react-flow__handle-${b}`,"nodrag",A,n,{source:!w,target:w,connectable:d,connectablestart:i,connectableend:j,clickconnecting:E,connectingfrom:C,connectingto:D,valid:I,connectionindicator:d&&(!G||F)&&(G||H?j:i)}]),onMouseDown:K,onTouchStart:K,onClick:z?b=>{let{onClickConnectStart:d,onClickConnectEnd:e,connectionClickStartHandle:f,connectionMode:g,isValidConnection:j,lib:k,rfId:l,nodeLookup:m,connection:n}=x.getState();if(!y||!f&&!i)return;if(!f){d?.(b.nativeEvent,{nodeId:y,handleId:v,handleType:a}),x.setState({connectionClickStartHandle:{nodeId:y,type:a,id:v}});return}let o=(0,h.oj)(b.target),p=c||j,{connection:q,isValid:r}=h.aQ.isValid(b.nativeEvent,{handle:{nodeId:y,id:v,type:a},connectionMode:g,fromNodeId:f.nodeId,fromHandleId:f.id||null,fromType:f.type,isValidConnection:p,flowId:l,doc:o,lib:k,nodeLookup:m});r&&q&&J(q);let s=structuredClone(n);delete s.inProgress,s.toPosition=s.toHandle?s.toHandle.position:null,e?.(b,s),x.setState({connectionClickStartHandle:null})}:void 0,ref:s,...r,children:m})})),aw={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ax={input:function({data:a,isConnectable:b,sourcePosition:c=h.yX.Bottom}){return(0,e.jsxs)(e.Fragment,{children:[a?.label,(0,e.jsx)(av,{type:"source",position:c,isConnectable:b})]})},default:function({data:a,isConnectable:b,targetPosition:c=h.yX.Top,sourcePosition:d=h.yX.Bottom}){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(av,{type:"target",position:c,isConnectable:b}),a?.label,(0,e.jsx)(av,{type:"source",position:d,isConnectable:b})]})},output:function({data:a,isConnectable:b,targetPosition:c=h.yX.Top}){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(av,{type:"target",position:c,isConnectable:b}),a?.label]})},group:function(){return null}},ay=a=>{let{width:b,height:c,x:d,y:e}=(0,h.aZ)(a.nodeLookup,{filter:a=>!!a.selected});return{width:(0,h.kf)(b)?b:null,height:(0,h.kf)(c)?c:null,userSelectionActive:a.userSelectionActive,transformString:`translate(${a.transform[0]}px,${a.transform[1]}px) scale(${a.transform[2]}) translate(${d}px,${e}px)`}};function az({onSelectionContextMenu:a,noPanClassName:b,disableKeyboardA11y:c}){let d=u(),{width:h,height:i,transformString:j,userSelectionActive:k}=t(ay,p),l=ar(),m=(0,f.useRef)(null);if(aq({nodeRef:m}),k||!h||!i)return null;let n=a?b=>{a(b,d.getState().nodes.filter(a=>a.selected))}:void 0;return(0,e.jsx)("div",{className:g(["react-flow__nodesselection","react-flow__container",b]),style:{transform:j},children:(0,e.jsx)("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:n,tabIndex:c?void 0:-1,onKeyDown:c?void 0:a=>{Object.prototype.hasOwnProperty.call(aw,a.key)&&(a.preventDefault(),l({direction:aw[a.key],factor:a.shiftKey?4:1}))},style:{width:h,height:i}})})}let aA=void 0,aB=a=>({nodesSelectionActive:a.nodesSelectionActive,userSelectionActive:a.userSelectionActive});function aC({children:a,onPaneClick:b,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:f,onPaneContextMenu:g,onPaneScroll:h,paneClickDistance:i,deleteKeyCode:j,selectionKeyCode:k,selectionOnDrag:l,selectionMode:m,onSelectionStart:n,onSelectionEnd:o,multiSelectionKeyCode:q,panActivationKeyCode:r,zoomActivationKeyCode:s,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:y,panOnScrollSpeed:z,panOnScrollMode:A,zoomOnDoubleClick:B,panOnDrag:C,defaultViewport:D,translateExtent:E,minZoom:F,maxZoom:G,preventScrolling:H,onSelectionContextMenu:I,noWheelClassName:J,noPanClassName:K,disableKeyboardA11y:L,onViewportChange:M,isControlledViewport:N}){let{nodesSelectionActive:O,userSelectionActive:P}=t(aB,p),Q=S(k,{target:aA}),R=S(r,{target:aA}),T=R||C,U=R||y,V=l&&!0!==T,W=Q||P||V;return!function({deleteKeyCode:a,multiSelectionKeyCode:b}){u();let{deleteElements:c}=af();S(a,{actInsideInputWithModifier:!1}),S(b,{target:ag})}({deleteKeyCode:j,multiSelectionKeyCode:q}),(0,e.jsx)(aj,{onPaneContextMenu:g,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:U,panOnScrollSpeed:z,panOnScrollMode:A,zoomOnDoubleClick:B,panOnDrag:!Q&&T,defaultViewport:D,translateExtent:E,minZoom:F,maxZoom:G,zoomActivationKeyCode:s,preventScrolling:H,noWheelClassName:J,noPanClassName:K,onViewportChange:M,isControlledViewport:N,paneClickDistance:i,selectionOnDrag:V,children:(0,e.jsxs)(ao,{onSelectionStart:n,onSelectionEnd:o,onPaneClick:b,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:f,onPaneContextMenu:g,onPaneScroll:h,panOnDrag:T,isSelecting:!!W,selectionMode:m,selectionKeyPressed:Q,paneClickDistance:i,selectionOnDrag:V,children:[a,O&&(0,e.jsx)(az,{onSelectionContextMenu:I,noPanClassName:K,disableKeyboardA11y:L})]})})}aC.displayName="FlowRenderer";let aD=(0,f.memo)(aC),aE=a=>a.updateNodeInternals;var aF=(0,f.memo)(function({id:a,onClick:b,onMouseEnter:c,onMouseMove:d,onMouseLeave:i,onContextMenu:j,onDoubleClick:k,nodesDraggable:l,elementsSelectable:m,nodesConnectable:n,nodesFocusable:o,resizeObserver:q,noDragClassName:r,noPanClassName:s,disableKeyboardA11y:v,rfId:w,nodeTypes:y,nodeClickDistance:z,onError:A}){let{node:B,internals:C,isParent:D}=t(b=>{let c=b.nodeLookup.get(a),d=b.parentLookup.has(a);return{node:c,internals:c.internals,isParent:d}},p),E=B.type||"default",F=y?.[E]||ax[E];void 0===F&&(A?.("003",h.xc.error003(E)),E="default",F=y?.default||ax.default);let G=!!(B.draggable||l&&void 0===B.draggable),H=!!(B.selectable||m&&void 0===B.selectable),I=!!(B.connectable||n&&void 0===B.connectable),J=!!(B.focusable||o&&void 0===B.focusable),K=u(),L=(0,h.QE)(B),M=function({node:a,nodeType:b,hasDimensions:c,resizeObserver:d}){u();let e=(0,f.useRef)(null);return(0,f.useRef)(null),(0,f.useRef)(a.sourcePosition),(0,f.useRef)(a.targetPosition),(0,f.useRef)(b),c&&a.internals.handleBounds,e}({node:B,nodeType:E,hasDimensions:L,resizeObserver:q}),N=aq({nodeRef:M,disabled:B.hidden||!G,noDragClassName:r,handleSelector:B.dragHandle,nodeId:a,isSelectable:H,nodeClickDistance:z}),O=ar();if(B.hidden)return null;let P=(0,h.uD)(B),Q=void 0===B.internals.handleBounds?{width:B.width??B.initialWidth??B.style?.width,height:B.height??B.initialHeight??B.style?.height}:{width:B.width??B.style?.width,height:B.height??B.style?.height},R=H||G||b||c||d||i,S=c?a=>c(a,{...C.userNode}):void 0,T=d?a=>d(a,{...C.userNode}):void 0,U=i?a=>i(a,{...C.userNode}):void 0,V=j?a=>j(a,{...C.userNode}):void 0,W=k?a=>k(a,{...C.userNode}):void 0;return(0,e.jsx)("div",{className:g(["react-flow__node",`react-flow__node-${E}`,{[s]:G},B.className,{selected:B.selected,selectable:H,parent:D,draggable:G,dragging:N}]),ref:M,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:L?"visible":"hidden",...B.style,...Q},"data-id":a,"data-testid":`rf__node-${a}`,onMouseEnter:S,onMouseMove:T,onMouseLeave:U,onContextMenu:V,onClick:c=>{let{selectNodesOnDrag:d,nodeDragThreshold:e}=K.getState();H&&(!d||!G||e>0)&&ap({id:a,store:K,nodeRef:M}),b&&b(c,{...C.userNode})},onDoubleClick:W,onKeyDown:J?b=>{if(!(0,h.v5)(b.nativeEvent)&&!v){if(h.tn.includes(b.key)&&H)ap({id:a,store:K,unselect:"Escape"===b.key,nodeRef:M});else if(G&&B.selected&&Object.prototype.hasOwnProperty.call(aw,b.key)){b.preventDefault();let{ariaLabelConfig:a}=K.getState();K.setState({ariaLiveMessage:a["node.a11yDescription.ariaLiveMessage"]({direction:b.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),O({direction:aw[b.key],factor:b.shiftKey?4:1})}}}:void 0,tabIndex:J?0:void 0,onFocus:J?()=>{if(v||!M.current?.matches(":focus-visible"))return;let{transform:b,width:c,height:d,autoPanOnNodeFocus:e,setCenter:f}=K.getState();e&&((0,h.U$)(new Map([[a,B]]),{x:0,y:0,width:c,height:d},b,!0).length>0||f(B.position.x+P.width/2,B.position.y+P.height/2,{zoom:b[2]}))}:void 0,role:B.ariaRole??(J?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${x}-${w}`,"aria-label":B.ariaLabel,...B.domAttributes,children:(0,e.jsx)(at,{value:a,children:(0,e.jsx)(F,{id:a,data:B.data,type:E,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:B.selected??!1,selectable:H,draggable:G,deletable:B.deletable??!0,isConnectable:I,sourcePosition:B.sourcePosition,targetPosition:B.targetPosition,dragging:N,dragHandle:B.dragHandle,zIndex:C.z,parentId:B.parentId,...P})})})});let aG=a=>({nodesDraggable:a.nodesDraggable,nodesConnectable:a.nodesConnectable,nodesFocusable:a.nodesFocusable,elementsSelectable:a.elementsSelectable,onError:a.onError});function aH(a){var b;let{nodesDraggable:c,nodesConnectable:d,nodesFocusable:g,elementsSelectable:i,onError:j}=t(aG,p),k=(b=a.onlyRenderVisibleElements,t((0,f.useCallback)(a=>b?(0,h.U$)(a.nodeLookup,{x:0,y:0,width:a.width,height:a.height},a.transform,!0).map(a=>a.id):Array.from(a.nodeLookup.keys()),[b]),p)),l=function(){let a=t(aE),[b]=(0,f.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(b=>{let c=new Map;b.forEach(a=>{let b=a.target.getAttribute("data-id");c.set(b,{id:b,nodeElement:a.target,force:!0})}),a(c)}));return b}();return(0,e.jsx)("div",{className:"react-flow__nodes",style:ah,children:k.map(b=>(0,e.jsx)(aF,{id:b,nodeTypes:a.nodeTypes,nodeExtent:a.nodeExtent,onClick:a.onNodeClick,onMouseEnter:a.onNodeMouseEnter,onMouseMove:a.onNodeMouseMove,onMouseLeave:a.onNodeMouseLeave,onContextMenu:a.onNodeContextMenu,onDoubleClick:a.onNodeDoubleClick,noDragClassName:a.noDragClassName,noPanClassName:a.noPanClassName,rfId:a.rfId,disableKeyboardA11y:a.disableKeyboardA11y,resizeObserver:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:g,elementsSelectable:i,nodeClickDistance:a.nodeClickDistance,onError:j},b))})}aH.displayName="NodeRenderer";let aI=(0,f.memo)(aH),aJ={[h.TG.Arrow]:({color:a="none",strokeWidth:b=1})=>{let c={strokeWidth:b,...a&&{stroke:a}};return(0,e.jsx)("polyline",{className:"arrow",style:c,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[h.TG.ArrowClosed]:({color:a="none",strokeWidth:b=1})=>{let c={strokeWidth:b,...a&&{stroke:a,fill:a}};return(0,e.jsx)("polyline",{className:"arrowclosed",style:c,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},aK=({id:a,type:b,color:c,width:d=12.5,height:g=12.5,markerUnits:i="strokeWidth",strokeWidth:j,orient:k="auto-start-reverse"})=>{let l=function(a){let b=u();return(0,f.useMemo)(()=>Object.prototype.hasOwnProperty.call(aJ,a)?aJ[a]:(b.getState().onError?.("009",h.xc.error009(a)),null),[a])}(b);return l?(0,e.jsx)("marker",{className:"react-flow__arrowhead",id:a,markerWidth:`${d}`,markerHeight:`${g}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:k,refX:"0",refY:"0",children:(0,e.jsx)(l,{color:c,strokeWidth:j})}):null},aL=({defaultColor:a,rfId:b})=>{let c=t(a=>a.edges),d=t(a=>a.defaultEdgeOptions),g=(0,f.useMemo)(()=>(0,h.Hm)(c,{id:b,defaultColor:a,defaultMarkerStart:d?.markerStart,defaultMarkerEnd:d?.markerEnd}),[c,d,b,a]);return g.length?(0,e.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,e.jsx)("defs",{children:g.map(a=>(0,e.jsx)(aK,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};aL.displayName="MarkerDefinitions";var aM=(0,f.memo)(aL);function aN({x:a,y:b,label:c,labelStyle:d,labelShowBg:h=!0,labelBgStyle:i,labelBgPadding:j=[2,4],labelBgBorderRadius:k=2,children:l,className:m,...n}){let[o,p]=(0,f.useState)({x:1,y:0,width:0,height:0}),q=g(["react-flow__edge-textwrapper",m]),r=(0,f.useRef)(null);return c?(0,e.jsxs)("g",{transform:`translate(${a-o.width/2} ${b-o.height/2})`,className:q,visibility:o.width?"visible":"hidden",...n,children:[h&&(0,e.jsx)("rect",{width:o.width+2*j[0],x:-j[0],y:-j[1],height:o.height+2*j[1],className:"react-flow__edge-textbg",style:i,rx:k,ry:k}),(0,e.jsx)("text",{className:"react-flow__edge-text",y:o.height/2,dy:"0.3em",ref:r,style:d,children:c}),l]}):null}aN.displayName="EdgeText";let aO=(0,f.memo)(aN);function aP({path:a,labelX:b,labelY:c,label:d,labelStyle:f,labelShowBg:i,labelBgStyle:j,labelBgPadding:k,labelBgBorderRadius:l,interactionWidth:m=20,...n}){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("path",{...n,d:a,fill:"none",className:g(["react-flow__edge-path",n.className])}),m?(0,e.jsx)("path",{d:a,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}):null,d&&(0,h.kf)(b)&&(0,h.kf)(c)?(0,e.jsx)(aO,{x:b,y:c,label:d,labelStyle:f,labelShowBg:i,labelBgStyle:j,labelBgPadding:k,labelBgBorderRadius:l}):null]})}function aQ({pos:a,x1:b,y1:c,x2:d,y2:e}){return a===h.yX.Left||a===h.yX.Right?[.5*(b+d),c]:[b,.5*(c+e)]}function aR({sourceX:a,sourceY:b,sourcePosition:c=h.yX.Bottom,targetX:d,targetY:e,targetPosition:f=h.yX.Top}){let[g,i]=aQ({pos:c,x1:a,y1:b,x2:d,y2:e}),[j,k]=aQ({pos:f,x1:d,y1:e,x2:a,y2:b}),[l,m,n,o]=(0,h.e_)({sourceX:a,sourceY:b,targetX:d,targetY:e,sourceControlX:g,sourceControlY:i,targetControlX:j,targetControlY:k});return[`M${a},${b} C${g},${i} ${j},${k} ${d},${e}`,l,m,n,o]}function aS(a){return(0,f.memo)(({id:b,sourceX:c,sourceY:d,targetX:f,targetY:g,sourcePosition:h,targetPosition:i,label:j,labelStyle:k,labelShowBg:l,labelBgStyle:m,labelBgPadding:n,labelBgBorderRadius:o,style:p,markerEnd:q,markerStart:r,interactionWidth:s})=>{let[t,u,v]=aR({sourceX:c,sourceY:d,sourcePosition:h,targetX:f,targetY:g,targetPosition:i}),w=a.isInternal?void 0:b;return(0,e.jsx)(aP,{id:w,path:t,labelX:u,labelY:v,label:j,labelStyle:k,labelShowBg:l,labelBgStyle:m,labelBgPadding:n,labelBgBorderRadius:o,style:p,markerEnd:q,markerStart:r,interactionWidth:s})})}let aT=aS({isInternal:!1}),aU=aS({isInternal:!0});function aV(a){return(0,f.memo)(({id:b,sourceX:c,sourceY:d,targetX:f,targetY:g,label:i,labelStyle:j,labelShowBg:k,labelBgStyle:l,labelBgPadding:m,labelBgBorderRadius:n,style:o,sourcePosition:p=h.yX.Bottom,targetPosition:q=h.yX.Top,markerEnd:r,markerStart:s,pathOptions:t,interactionWidth:u})=>{let[v,w,x]=(0,h.oN)({sourceX:c,sourceY:d,sourcePosition:p,targetX:f,targetY:g,targetPosition:q,borderRadius:t?.borderRadius,offset:t?.offset,stepPosition:t?.stepPosition}),y=a.isInternal?void 0:b;return(0,e.jsx)(aP,{id:y,path:v,labelX:w,labelY:x,label:i,labelStyle:j,labelShowBg:k,labelBgStyle:l,labelBgPadding:m,labelBgBorderRadius:n,style:o,markerEnd:r,markerStart:s,interactionWidth:u})})}aT.displayName="SimpleBezierEdge",aU.displayName="SimpleBezierEdgeInternal";let aW=aV({isInternal:!1}),aX=aV({isInternal:!0});function aY(a){return(0,f.memo)(({id:b,...c})=>{let d=a.isInternal?void 0:b;return(0,e.jsx)(aW,{...c,id:d,pathOptions:(0,f.useMemo)(()=>({borderRadius:0,offset:c.pathOptions?.offset}),[c.pathOptions?.offset])})})}aW.displayName="SmoothStepEdge",aX.displayName="SmoothStepEdgeInternal";let aZ=aY({isInternal:!1}),a$=aY({isInternal:!0});function a_(a){return(0,f.memo)(({id:b,sourceX:c,sourceY:d,targetX:f,targetY:g,label:i,labelStyle:j,labelShowBg:k,labelBgStyle:l,labelBgPadding:m,labelBgBorderRadius:n,style:o,markerEnd:p,markerStart:q,interactionWidth:r})=>{let[s,t,u]=(0,h.ah)({sourceX:c,sourceY:d,targetX:f,targetY:g}),v=a.isInternal?void 0:b;return(0,e.jsx)(aP,{id:v,path:s,labelX:t,labelY:u,label:i,labelStyle:j,labelShowBg:k,labelBgStyle:l,labelBgPadding:m,labelBgBorderRadius:n,style:o,markerEnd:p,markerStart:q,interactionWidth:r})})}aZ.displayName="StepEdge",a$.displayName="StepEdgeInternal";let a0=a_({isInternal:!1}),a1=a_({isInternal:!0});function a2(a){return(0,f.memo)(({id:b,sourceX:c,sourceY:d,targetX:f,targetY:g,sourcePosition:i=h.yX.Bottom,targetPosition:j=h.yX.Top,label:k,labelStyle:l,labelShowBg:m,labelBgStyle:n,labelBgPadding:o,labelBgBorderRadius:p,style:q,markerEnd:r,markerStart:s,pathOptions:t,interactionWidth:u})=>{let[v,w,x]=(0,h.Fp)({sourceX:c,sourceY:d,sourcePosition:i,targetX:f,targetY:g,targetPosition:j,curvature:t?.curvature}),y=a.isInternal?void 0:b;return(0,e.jsx)(aP,{id:y,path:v,labelX:w,labelY:x,label:k,labelStyle:l,labelShowBg:m,labelBgStyle:n,labelBgPadding:o,labelBgBorderRadius:p,style:q,markerEnd:r,markerStart:s,interactionWidth:u})})}a0.displayName="StraightEdge",a1.displayName="StraightEdgeInternal";let a3=a2({isInternal:!1}),a4=a2({isInternal:!0});a3.displayName="BezierEdge",a4.displayName="BezierEdgeInternal";let a5={default:a4,straight:a1,step:a$,smoothstep:aX,simplebezier:aU},a6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},a7="react-flow__edgeupdater";function a8({position:a,centerX:b,centerY:c,radius:d=10,onMouseDown:f,onMouseEnter:i,onMouseOut:j,type:k}){return(0,e.jsx)("circle",{onMouseDown:f,onMouseEnter:i,onMouseOut:j,className:g([a7,`${a7}-${k}`]),cx:a===h.yX.Left?b-d:a===h.yX.Right?b+d:b,cy:a===h.yX.Top?c-d:a===h.yX.Bottom?c+d:c,r:d,stroke:"transparent",fill:"transparent"})}function a9({isReconnectable:a,reconnectRadius:b,edge:c,sourceX:d,sourceY:f,targetX:g,targetY:i,sourcePosition:j,targetPosition:k,onReconnect:l,onReconnectStart:m,onReconnectEnd:n,setReconnecting:o,setUpdateHover:p}){let q=u(),r=(a,b)=>{if(0!==a.button)return;let{autoPanOnConnect:d,domNode:e,isValidConnection:f,connectionMode:g,connectionRadius:i,lib:j,onConnectStart:k,onConnectEnd:p,cancelConnection:r,nodeLookup:s,rfId:t,panBy:u,updateConnection:v}=q.getState(),w="target"===b.type;h.aQ.onPointerDown(a.nativeEvent,{autoPanOnConnect:d,connectionMode:g,connectionRadius:i,domNode:e,handleId:b.id,nodeId:b.nodeId,nodeLookup:s,isTarget:w,edgeUpdaterType:b.type,lib:j,flowId:t,cancelConnection:r,panBy:u,isValidConnection:f,onConnect:a=>l?.(c,a),onConnectStart:(d,e)=>{o(!0),m?.(a,c,b.type),k?.(d,e)},onConnectEnd:p,onReconnectEnd:(a,d)=>{o(!1),n?.(a,c,b.type,d)},updateConnection:v,getTransform:()=>q.getState().transform,getFromHandle:()=>q.getState().connection.fromHandle,dragThreshold:q.getState().connectionDragThreshold,handleDomNode:a.currentTarget})},s=()=>p(!0),t=()=>p(!1);return(0,e.jsxs)(e.Fragment,{children:[(!0===a||"source"===a)&&(0,e.jsx)(a8,{position:j,centerX:d,centerY:f,radius:b,onMouseDown:a=>r(a,{nodeId:c.target,id:c.targetHandle??null,type:"target"}),onMouseEnter:s,onMouseOut:t,type:"source"}),(!0===a||"target"===a)&&(0,e.jsx)(a8,{position:k,centerX:g,centerY:i,radius:b,onMouseDown:a=>r(a,{nodeId:c.source,id:c.sourceHandle??null,type:"source"}),onMouseEnter:s,onMouseOut:t,type:"target"})]})}var ba=(0,f.memo)(function({id:a,edgesFocusable:b,edgesReconnectable:c,elementsSelectable:d,onClick:i,onDoubleClick:j,onContextMenu:k,onMouseEnter:l,onMouseMove:m,onMouseLeave:n,reconnectRadius:o,onReconnect:q,onReconnectStart:r,onReconnectEnd:s,rfId:v,edgeTypes:w,noPanClassName:x,onError:z,disableKeyboardA11y:A}){let B=t(b=>b.edgeLookup.get(a)),C=t(a=>a.defaultEdgeOptions),D=(B=C?{...C,...B}:B).type||"default",E=w?.[D]||a5[D];void 0===E&&(z?.("011",h.xc.error011(D)),D="default",E=w?.default||a5.default);let F=!!(B.focusable||b&&void 0===B.focusable),G=void 0!==q&&(B.reconnectable||c&&void 0===B.reconnectable),H=!!(B.selectable||d&&void 0===B.selectable),I=(0,f.useRef)(null),[J,K]=(0,f.useState)(!1),[L,M]=(0,f.useState)(!1),N=u(),{zIndex:O,sourceX:P,sourceY:Q,targetX:R,targetY:S,sourcePosition:T,targetPosition:U}=t((0,f.useCallback)(b=>{let c=b.nodeLookup.get(B.source),d=b.nodeLookup.get(B.target);if(!c||!d)return{zIndex:B.zIndex,...a6};let e=(0,h.b5)({id:a,sourceNode:c,targetNode:d,sourceHandle:B.sourceHandle||null,targetHandle:B.targetHandle||null,connectionMode:b.connectionMode,onError:z});return{zIndex:(0,h.qX)({selected:B.selected,zIndex:B.zIndex,sourceNode:c,targetNode:d,elevateOnSelect:b.elevateEdgesOnSelect,zIndexMode:b.zIndexMode}),...e||a6}},[B.source,B.target,B.sourceHandle,B.targetHandle,B.selected,B.zIndex]),p),V=(0,f.useMemo)(()=>B.markerStart?`url('#${(0,h.aW)(B.markerStart,v)}')`:void 0,[B.markerStart,v]),W=(0,f.useMemo)(()=>B.markerEnd?`url('#${(0,h.aW)(B.markerEnd,v)}')`:void 0,[B.markerEnd,v]);if(B.hidden||null===P||null===Q||null===R||null===S)return null;let X=j?a=>{j(a,{...B})}:void 0,Y=k?a=>{k(a,{...B})}:void 0,Z=l?a=>{l(a,{...B})}:void 0,$=m?a=>{m(a,{...B})}:void 0,_=n?a=>{n(a,{...B})}:void 0;return(0,e.jsx)("svg",{style:{zIndex:O},children:(0,e.jsxs)("g",{className:g(["react-flow__edge",`react-flow__edge-${D}`,B.className,x,{selected:B.selected,animated:B.animated,inactive:!H&&!i,updating:J,selectable:H}]),onClick:b=>{let{addSelectedEdges:c,unselectNodesAndEdges:d,multiSelectionActive:e}=N.getState();H&&(N.setState({nodesSelectionActive:!1}),B.selected&&e?(d({nodes:[],edges:[B]}),I.current?.blur()):c([a])),i&&i(b,B)},onDoubleClick:X,onContextMenu:Y,onMouseEnter:Z,onMouseMove:$,onMouseLeave:_,onKeyDown:F?b=>{if(!A&&h.tn.includes(b.key)&&H){let{unselectNodesAndEdges:c,addSelectedEdges:d}=N.getState();"Escape"===b.key?(I.current?.blur(),c({edges:[B]})):d([a])}}:void 0,tabIndex:F?0:void 0,role:B.ariaRole??(F?"group":"img"),"aria-roledescription":"edge","data-id":a,"data-testid":`rf__edge-${a}`,"aria-label":null===B.ariaLabel?void 0:B.ariaLabel||`Edge from ${B.source} to ${B.target}`,"aria-describedby":F?`${y}-${v}`:void 0,ref:I,...B.domAttributes,children:[!L&&(0,e.jsx)(E,{id:a,source:B.source,target:B.target,type:B.type,selected:B.selected,animated:B.animated,selectable:H,deletable:B.deletable??!0,label:B.label,labelStyle:B.labelStyle,labelShowBg:B.labelShowBg,labelBgStyle:B.labelBgStyle,labelBgPadding:B.labelBgPadding,labelBgBorderRadius:B.labelBgBorderRadius,sourceX:P,sourceY:Q,targetX:R,targetY:S,sourcePosition:T,targetPosition:U,data:B.data,style:B.style,sourceHandleId:B.sourceHandle,targetHandleId:B.targetHandle,markerStart:V,markerEnd:W,pathOptions:"pathOptions"in B?B.pathOptions:void 0,interactionWidth:B.interactionWidth}),G&&(0,e.jsx)(a9,{edge:B,isReconnectable:G,reconnectRadius:o,onReconnect:q,onReconnectStart:r,onReconnectEnd:s,sourceX:P,sourceY:Q,targetX:R,targetY:S,sourcePosition:T,targetPosition:U,setUpdateHover:K,setReconnecting:M})]})})});let bb=a=>({edgesFocusable:a.edgesFocusable,edgesReconnectable:a.edgesReconnectable,elementsSelectable:a.elementsSelectable,connectionMode:a.connectionMode,onError:a.onError});function bc({defaultMarkerColor:a,onlyRenderVisibleElements:b,rfId:c,edgeTypes:d,noPanClassName:g,onReconnect:i,onEdgeContextMenu:j,onEdgeMouseEnter:k,onEdgeMouseMove:l,onEdgeMouseLeave:m,onEdgeClick:n,reconnectRadius:o,onEdgeDoubleClick:q,onReconnectStart:r,onReconnectEnd:s,disableKeyboardA11y:u}){let{edgesFocusable:v,edgesReconnectable:w,elementsSelectable:x,onError:y}=t(bb,p),z=t((0,f.useCallback)(a=>{if(!b)return a.edges.map(a=>a.id);let c=[];if(a.width&&a.height)for(let b of a.edges){let d=a.nodeLookup.get(b.source),e=a.nodeLookup.get(b.target);d&&e&&(0,h.uj)({sourceNode:d,targetNode:e,width:a.width,height:a.height,transform:a.transform})&&c.push(b.id)}return c},[b]),p);return(0,e.jsxs)("div",{className:"react-flow__edges",children:[(0,e.jsx)(aM,{defaultColor:a,rfId:c}),z.map(a=>(0,e.jsx)(ba,{id:a,edgesFocusable:v,edgesReconnectable:w,elementsSelectable:x,noPanClassName:g,onReconnect:i,onContextMenu:j,onMouseEnter:k,onMouseMove:l,onMouseLeave:m,onClick:n,reconnectRadius:o,onDoubleClick:q,onReconnectStart:r,onReconnectEnd:s,rfId:c,onError:y,edgeTypes:d,disableKeyboardA11y:u},a))]})}bc.displayName="EdgeRenderer";let bd=(0,f.memo)(bc),be=a=>`translate(${a.transform[0]}px,${a.transform[1]}px) scale(${a.transform[2]})`;function bf({children:a}){let b=t(be);return(0,e.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:b},children:a})}let bg=a=>a.panZoom?.syncViewport;function bh(a){return a.connection.inProgress?{...a.connection,to:(0,h.Ff)(a.connection.to,a.transform)}:{...a.connection}}let bi=a=>({nodesConnectable:a.nodesConnectable,isValid:a.connection.isValid,inProgress:a.connection.inProgress,width:a.width,height:a.height});function bj({containerStyle:a,style:b,type:c,component:d}){let{nodesConnectable:f,width:i,height:j,isValid:k,inProgress:l}=t(bi,p);return i&&f&&l?(0,e.jsx)("svg",{style:a,width:i,height:j,className:"react-flow__connectionline react-flow__container",children:(0,e.jsx)("g",{className:g(["react-flow__connection",(0,h.HF)(k)]),children:(0,e.jsx)(bk,{style:b,type:c,CustomComponent:d,isValid:k})})}):null}let bk=({style:a,type:b=h.Do.Bezier,CustomComponent:c,isValid:d})=>{let{inProgress:f,from:g,fromNode:i,fromHandle:j,fromPosition:k,to:l,toNode:m,toHandle:n,toPosition:o,pointer:q}=function(a){return t(bh,p)}();if(!f)return;if(c)return(0,e.jsx)(c,{connectionLineType:b,connectionLineStyle:a,fromNode:i,fromHandle:j,fromX:g.x,fromY:g.y,toX:l.x,toY:l.y,fromPosition:k,toPosition:o,connectionStatus:(0,h.HF)(d),toNode:m,toHandle:n,pointer:q});let r="",s={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:l.x,targetY:l.y,targetPosition:o};switch(b){case h.Do.Bezier:[r]=(0,h.Fp)(s);break;case h.Do.SimpleBezier:[r]=aR(s);break;case h.Do.Step:[r]=(0,h.oN)({...s,borderRadius:0});break;case h.Do.SmoothStep:[r]=(0,h.oN)(s);break;default:[r]=(0,h.ah)(s)}return(0,e.jsx)("path",{d:r,fill:"none",className:"react-flow__connection-path",style:a})};bk.displayName="ConnectionLine";let bl={};function bm(a=bl){(0,f.useRef)(a),u()}function bn({nodeTypes:a,edgeTypes:b,onInit:c,onNodeClick:d,onEdgeClick:g,onNodeDoubleClick:h,onEdgeDoubleClick:i,onNodeMouseEnter:j,onNodeMouseMove:k,onNodeMouseLeave:l,onNodeContextMenu:m,onSelectionContextMenu:n,onSelectionStart:o,onSelectionEnd:p,connectionLineType:q,connectionLineStyle:r,connectionLineComponent:s,connectionLineContainerStyle:v,selectionKeyCode:w,selectionOnDrag:x,selectionMode:y,multiSelectionKeyCode:z,panActivationKeyCode:A,zoomActivationKeyCode:B,deleteKeyCode:C,onlyRenderVisibleElements:D,elementsSelectable:E,defaultViewport:F,translateExtent:G,minZoom:H,maxZoom:I,preventScrolling:J,defaultMarkerColor:K,zoomOnScroll:L,zoomOnPinch:M,panOnScroll:N,panOnScrollSpeed:O,panOnScrollMode:P,zoomOnDoubleClick:Q,panOnDrag:R,onPaneClick:S,onPaneMouseEnter:T,onPaneMouseMove:U,onPaneMouseLeave:V,onPaneScroll:W,onPaneContextMenu:X,paneClickDistance:Y,nodeClickDistance:Z,onEdgeContextMenu:$,onEdgeMouseEnter:_,onEdgeMouseMove:aa,onEdgeMouseLeave:ab,reconnectRadius:ac,onReconnect:ad,onReconnectStart:ae,onReconnectEnd:ag,noDragClassName:ah,noWheelClassName:ai,noPanClassName:aj,disableKeyboardA11y:ak,nodeExtent:al,rfId:am,viewport:an,onViewportChange:ao}){return bm(a),bm(b),u(),(0,f.useRef)(!1),af(),(0,f.useRef)(!1),t(bg),u(),(0,e.jsx)(aD,{onPaneClick:S,onPaneMouseEnter:T,onPaneMouseMove:U,onPaneMouseLeave:V,onPaneContextMenu:X,onPaneScroll:W,paneClickDistance:Y,deleteKeyCode:C,selectionKeyCode:w,selectionOnDrag:x,selectionMode:y,onSelectionStart:o,onSelectionEnd:p,multiSelectionKeyCode:z,panActivationKeyCode:A,zoomActivationKeyCode:B,elementsSelectable:E,zoomOnScroll:L,zoomOnPinch:M,zoomOnDoubleClick:Q,panOnScroll:N,panOnScrollSpeed:O,panOnScrollMode:P,panOnDrag:R,defaultViewport:F,translateExtent:G,minZoom:H,maxZoom:I,onSelectionContextMenu:n,preventScrolling:J,noDragClassName:ah,noWheelClassName:ai,noPanClassName:aj,disableKeyboardA11y:ak,onViewportChange:ao,isControlledViewport:!!an,children:(0,e.jsxs)(bf,{children:[(0,e.jsx)(bd,{edgeTypes:b,onEdgeClick:g,onEdgeDoubleClick:i,onReconnect:ad,onReconnectStart:ae,onReconnectEnd:ag,onlyRenderVisibleElements:D,onEdgeContextMenu:$,onEdgeMouseEnter:_,onEdgeMouseMove:aa,onEdgeMouseLeave:ab,reconnectRadius:ac,defaultMarkerColor:K,noPanClassName:aj,disableKeyboardA11y:ak,rfId:am}),(0,e.jsx)(bj,{style:r,type:q,component:s,containerStyle:v}),(0,e.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,e.jsx)(aI,{nodeTypes:a,onNodeClick:d,onNodeDoubleClick:h,onNodeMouseEnter:j,onNodeMouseMove:k,onNodeMouseLeave:l,onNodeContextMenu:m,nodeClickDistance:Z,onlyRenderVisibleElements:D,noPanClassName:aj,noDragClassName:ah,disableKeyboardA11y:ak,nodeExtent:al,rfId:am}),(0,e.jsx)("div",{className:"react-flow__viewport-portal"})]})})}bn.displayName="GraphView";let bo=(0,f.memo)(bn),bp=({nodes:a,edges:b,defaultNodes:c,defaultEdges:d,width:e,height:f,fitView:g,fitViewOptions:i,minZoom:j=.5,maxZoom:k=2,nodeOrigin:l,nodeExtent:m,zIndexMode:n="basic"}={})=>{let o=new Map,p=new Map,q=new Map,r=new Map,s=d??b??[],t=c??a??[],u=l??[0,0],v=m??h.ZO;(0,h.qn)(q,r,s);let w=(0,h.bi)(t,o,p,{nodeOrigin:u,nodeExtent:v,zIndexMode:n}),x=[0,0,1];if(g&&e&&f){let a=(0,h.aZ)(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))}),{x:b,y:c,zoom:d}=(0,h.R4)(a,e,f,j,k,i?.padding??.1);x=[b,c,d]}return{rfId:"1",width:e??0,height:f??0,transform:x,nodes:t,nodesInitialized:w,nodeLookup:o,parentLookup:p,edges:s,edgeLookup:r,connectionLookup:q,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==c,hasDefaultEdges:void 0!==d,panZoom:null,minZoom:j,maxZoom:k,translateExtent:h.ZO,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:h.WZ.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:u,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:g??!1,fitViewOptions:i,fitViewResolver:null,connection:{...h.bK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:h.KE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:h.tM,zIndexMode:n,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}};function bq({initialNodes:a,initialEdges:b,defaultNodes:c,defaultEdges:d,initialWidth:g,initialHeight:i,initialMinZoom:j,initialMaxZoom:k,initialFitViewOptions:l,fitView:m,nodeOrigin:n,nodeExtent:p,zIndexMode:q,children:s}){let[t]=(0,f.useState)(()=>(({nodes:a,edges:b,defaultNodes:c,defaultEdges:d,width:e,height:f,fitView:g,fitViewOptions:i,minZoom:j,maxZoom:k,nodeOrigin:l,nodeExtent:m,zIndexMode:n})=>{let p,q;return p=(o,p)=>{async function q(){let{nodeLookup:a,panZoom:b,fitViewOptions:c,fitViewResolver:d,width:e,height:f,minZoom:g,maxZoom:i}=p();b&&(await (0,h.IO)({nodes:a,width:e,height:f,panZoom:b,minZoom:g,maxZoom:i},c),d?.resolve(!0),o({fitViewResolver:null}))}return{...bp({nodes:a,edges:b,width:e,height:f,fitView:g,fitViewOptions:i,minZoom:j,maxZoom:k,nodeOrigin:l,nodeExtent:m,defaultNodes:c,defaultEdges:d,zIndexMode:n}),setNodes:a=>{let{nodeLookup:b,parentLookup:c,nodeOrigin:d,elevateNodesOnSelect:e,fitViewQueued:f,zIndexMode:g}=p(),i=(0,h.bi)(a,b,c,{nodeOrigin:d,nodeExtent:m,elevateNodesOnSelect:e,checkEquality:!0,zIndexMode:g});f&&i?(q(),o({nodes:a,nodesInitialized:i,fitViewQueued:!1,fitViewOptions:void 0})):o({nodes:a,nodesInitialized:i})},setEdges:a=>{let{connectionLookup:b,edgeLookup:c}=p();(0,h.qn)(b,c,a),o({edges:a})},setDefaultNodesAndEdges:(a,b)=>{if(a){let{setNodes:b}=p();b(a),o({hasDefaultNodes:!0})}if(b){let{setEdges:a}=p();a(b),o({hasDefaultEdges:!0})}},updateNodeInternals:a=>{let{triggerNodeChanges:b,nodeLookup:c,parentLookup:d,domNode:e,nodeOrigin:f,nodeExtent:g,debug:i,fitViewQueued:j,zIndexMode:k}=p(),{changes:l,updatedInternals:m}=(0,h.uL)(a,c,d,e,f,g,k);m&&((0,h.vS)(c,d,{nodeOrigin:f,nodeExtent:g,zIndexMode:k}),j?(q(),o({fitViewQueued:!1,fitViewOptions:void 0})):o({}),l?.length>0&&(i&&console.log("React Flow: trigger node changes",l),b?.(l)))},updateNodePositions:(a,b=!1)=>{let c=[],d=[],{nodeLookup:e,triggerNodeChanges:f,connection:g,updateConnection:i,onNodesChangeMiddlewareMap:j}=p();for(let[f,j]of a){let a=e.get(f),k=!!(a?.expandParent&&a?.parentId&&j?.position),l={id:f,type:"position",position:k?{x:Math.max(0,j.position.x),y:Math.max(0,j.position.y)}:j.position,dragging:b};if(a&&g.inProgress&&g.fromNode.id===a.id){let b=(0,h.M_)(a,g.fromHandle,h.yX.Left,!0);i({...g,from:b})}k&&a.parentId&&c.push({id:f,parentId:a.parentId,rect:{...j.internals.positionAbsolute,width:j.measured.width??0,height:j.measured.height??0}}),d.push(l)}if(c.length>0){let{parentLookup:a,nodeOrigin:b}=p(),f=(0,h.r8)(c,e,a,b);d.push(...f)}for(let a of j.values())d=a(d);f(d)},triggerNodeChanges:a=>{let{onNodesChange:b,setNodes:c,nodes:d,hasDefaultNodes:e,debug:f}=p();a?.length&&(e&&c(T(a,d)),f&&console.log("React Flow: trigger node changes",a),b?.(a))},triggerEdgeChanges:a=>{let{onEdgesChange:b,setEdges:c,edges:d,hasDefaultEdges:e,debug:f}=p();a?.length&&(e&&c(T(a,d)),f&&console.log("React Flow: trigger edge changes",a),b?.(a))},addSelectedNodes:a=>{let{multiSelectionActive:b,edgeLookup:c,nodeLookup:d,triggerNodeChanges:e,triggerEdgeChanges:f}=p();if(b)return void e(a.map(a=>W(a,!0)));e(X(d,new Set([...a]),!0)),f(X(c))},addSelectedEdges:a=>{let{multiSelectionActive:b,edgeLookup:c,nodeLookup:d,triggerNodeChanges:e,triggerEdgeChanges:f}=p();if(b)return void f(a.map(a=>W(a,!0)));f(X(c,new Set([...a]))),e(X(d,new Set,!0))},unselectNodesAndEdges:({nodes:a,edges:b}={})=>{let{edges:c,nodes:d,nodeLookup:e,triggerNodeChanges:f,triggerEdgeChanges:g}=p(),h=(a||d).map(a=>{let b=e.get(a.id);return b&&(b.selected=!1),W(a.id,!1)}),i=(b||c).map(a=>W(a.id,!1));f(h),g(i)},setMinZoom:a=>{let{panZoom:b,maxZoom:c}=p();b?.setScaleExtent([a,c]),o({minZoom:a})},setMaxZoom:a=>{let{panZoom:b,minZoom:c}=p();b?.setScaleExtent([c,a]),o({maxZoom:a})},setTranslateExtent:a=>{p().panZoom?.setTranslateExtent(a),o({translateExtent:a})},resetSelectedElements:()=>{let{edges:a,nodes:b,triggerNodeChanges:c,triggerEdgeChanges:d,elementsSelectable:e}=p();if(!e)return;let f=b.reduce((a,b)=>b.selected?[...a,W(b.id,!1)]:a,[]),g=a.reduce((a,b)=>b.selected?[...a,W(b.id,!1)]:a,[]);c(f),d(g)},setNodeExtent:a=>{let{nodes:b,nodeLookup:c,parentLookup:d,nodeOrigin:e,elevateNodesOnSelect:f,nodeExtent:g,zIndexMode:i}=p();(a[0][0]!==g[0][0]||a[0][1]!==g[0][1]||a[1][0]!==g[1][0]||a[1][1]!==g[1][1])&&((0,h.bi)(b,c,d,{nodeOrigin:e,nodeExtent:a,elevateNodesOnSelect:f,checkEquality:!1,zIndexMode:i}),o({nodeExtent:a}))},panBy:a=>{let{transform:b,width:c,height:d,panZoom:e,translateExtent:f}=p();return(0,h.No)({delta:a,panZoom:e,transform:b,translateExtent:f,width:c,height:d})},setCenter:async(a,b,c)=>{let{width:d,height:e,maxZoom:f,panZoom:g}=p();if(!g)return Promise.resolve(!1);let h=void 0!==c?.zoom?c.zoom:f;return await g.setViewport({x:d/2-a*h,y:e/2-b*h,zoom:h},{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{o({connection:{...h.bK}})},updateConnection:a=>{o({connection:a})},reset:()=>o({...bp()})}},q=Object.is,p?o(p,q):o})({nodes:a,edges:b,defaultNodes:c,defaultEdges:d,width:g,height:i,fitView:m,minZoom:j,maxZoom:k,fitViewOptions:l,nodeOrigin:n,nodeExtent:p,zIndexMode:q}));return(0,e.jsx)(r,{value:t,children:(0,e.jsx)(ad,{children:s})})}function br({children:a,nodes:b,edges:c,defaultNodes:d,defaultEdges:g,width:h,height:i,fitView:j,fitViewOptions:k,minZoom:l,maxZoom:m,nodeOrigin:n,nodeExtent:o,zIndexMode:p}){return(0,f.useContext)(q)?(0,e.jsx)(e.Fragment,{children:a}):(0,e.jsx)(bq,{initialNodes:b,initialEdges:c,defaultNodes:d,defaultEdges:g,initialWidth:h,initialHeight:i,fitView:j,initialFitViewOptions:k,initialMinZoom:l,initialMaxZoom:m,nodeOrigin:n,nodeExtent:o,zIndexMode:p,children:a})}let bs={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var bt=_(function({nodes:a,edges:b,defaultNodes:c,defaultEdges:d,className:i,nodeTypes:j,edgeTypes:k,onNodeClick:l,onEdgeClick:m,onInit:n,onMove:o,onMoveStart:p,onMoveEnd:q,onConnect:r,onConnectStart:s,onConnectEnd:t,onClickConnectStart:u,onClickConnectEnd:v,onNodeMouseEnter:w,onNodeMouseMove:x,onNodeMouseLeave:y,onNodeContextMenu:z,onNodeDoubleClick:A,onNodeDragStart:B,onNodeDrag:D,onNodeDragStop:F,onNodesDelete:G,onEdgesDelete:H,onDelete:I,onSelectionChange:J,onSelectionDragStart:N,onSelectionDrag:O,onSelectionDragStop:P,onSelectionContextMenu:R,onSelectionStart:S,onSelectionEnd:T,onBeforeDelete:U,connectionMode:V,connectionLineType:W=h.Do.Bezier,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:Z,deleteKeyCode:$="Backspace",selectionKeyCode:_="Shift",selectionOnDrag:aa=!1,selectionMode:ab=h.Qc.Full,panActivationKeyCode:ac="Space",multiSelectionKeyCode:ad=(0,h.Ue)()?"Meta":"Control",zoomActivationKeyCode:ae=(0,h.Ue)()?"Meta":"Control",snapToGrid:af,snapGrid:ag,onlyRenderVisibleElements:ah=!1,selectNodesOnDrag:ai,nodesDraggable:aj,autoPanOnNodeFocus:ak,nodesConnectable:al,nodesFocusable:am,nodeOrigin:an=L,edgesFocusable:ao,edgesReconnectable:ap,elementsSelectable:aq=!0,defaultViewport:ar=M,minZoom:as=.5,maxZoom:at=2,translateExtent:au=h.ZO,preventScrolling:av=!0,nodeExtent:aw,defaultMarkerColor:ax="#b1b1b7",zoomOnScroll:ay=!0,zoomOnPinch:az=!0,panOnScroll:aA=!1,panOnScrollSpeed:aB=.5,panOnScrollMode:aC=h.ny.Free,zoomOnDoubleClick:aD=!0,panOnDrag:aE=!0,onPaneClick:aF,onPaneMouseEnter:aG,onPaneMouseMove:aH,onPaneMouseLeave:aI,onPaneScroll:aJ,onPaneContextMenu:aK,paneClickDistance:aL=1,nodeClickDistance:aM=0,children:aN,onReconnect:aO,onReconnectStart:aP,onReconnectEnd:aQ,onEdgeContextMenu:aR,onEdgeDoubleClick:aS,onEdgeMouseEnter:aT,onEdgeMouseMove:aU,onEdgeMouseLeave:aV,reconnectRadius:aW=10,onNodesChange:aX,onEdgesChange:aY,noDragClassName:aZ="nodrag",noWheelClassName:a$="nowheel",noPanClassName:a_="nopan",fitView:a0,fitViewOptions:a1,connectOnClick:a2,attributionPosition:a3,proOptions:a4,defaultEdgeOptions:a5,elevateNodesOnSelect:a6=!0,elevateEdgesOnSelect:a7=!1,disableKeyboardA11y:a8=!1,autoPanOnConnect:a9,autoPanOnNodeDrag:ba,autoPanSpeed:bb,connectionRadius:bc,isValidConnection:bd,onError:be,style:bf,id:bg,nodeDragThreshold:bh,connectionDragThreshold:bi,viewport:bj,onViewportChange:bk,width:bl,height:bm,colorMode:bn="light",debug:bp,onScroll:bq,ariaLabelConfig:bt,zIndexMode:bu="basic",...bv},bw){let bx=bg||"1",by=function(a){let[b,c]=(0,f.useState)("system"===a?null:a);return null!==b?b:"light"}(bn),bz=(0,f.useCallback)(a=>{a.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),bq?.(a)},[bq]);return(0,e.jsx)("div",{"data-testid":"rf__wrapper",...bv,onScroll:bz,style:{...bf,...bs},ref:bw,className:g(["react-flow",i,by]),id:bg,role:"application",children:(0,e.jsxs)(br,{nodes:a,edges:b,width:bl,height:bm,fitView:a0,fitViewOptions:a1,minZoom:as,maxZoom:at,nodeOrigin:an,nodeExtent:aw,zIndexMode:bu,children:[(0,e.jsx)(bo,{onInit:n,onNodeClick:l,onEdgeClick:m,onNodeMouseEnter:w,onNodeMouseMove:x,onNodeMouseLeave:y,onNodeContextMenu:z,onNodeDoubleClick:A,nodeTypes:j,edgeTypes:k,connectionLineType:W,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:Z,selectionKeyCode:_,selectionOnDrag:aa,selectionMode:ab,deleteKeyCode:$,multiSelectionKeyCode:ad,panActivationKeyCode:ac,zoomActivationKeyCode:ae,onlyRenderVisibleElements:ah,defaultViewport:ar,translateExtent:au,minZoom:as,maxZoom:at,preventScrolling:av,zoomOnScroll:ay,zoomOnPinch:az,zoomOnDoubleClick:aD,panOnScroll:aA,panOnScrollSpeed:aB,panOnScrollMode:aC,panOnDrag:aE,onPaneClick:aF,onPaneMouseEnter:aG,onPaneMouseMove:aH,onPaneMouseLeave:aI,onPaneScroll:aJ,onPaneContextMenu:aK,paneClickDistance:aL,nodeClickDistance:aM,onSelectionContextMenu:R,onSelectionStart:S,onSelectionEnd:T,onReconnect:aO,onReconnectStart:aP,onReconnectEnd:aQ,onEdgeContextMenu:aR,onEdgeDoubleClick:aS,onEdgeMouseEnter:aT,onEdgeMouseMove:aU,onEdgeMouseLeave:aV,reconnectRadius:aW,defaultMarkerColor:ax,noDragClassName:aZ,noWheelClassName:a$,noPanClassName:a_,rfId:bx,disableKeyboardA11y:a8,nodeExtent:aw,viewport:bj,onViewportChange:bk}),(0,e.jsx)(Q,{nodes:a,edges:b,defaultNodes:c,defaultEdges:d,onConnect:r,onConnectStart:s,onConnectEnd:t,onClickConnectStart:u,onClickConnectEnd:v,nodesDraggable:aj,autoPanOnNodeFocus:ak,nodesConnectable:al,nodesFocusable:am,edgesFocusable:ao,edgesReconnectable:ap,elementsSelectable:aq,elevateNodesOnSelect:a6,elevateEdgesOnSelect:a7,minZoom:as,maxZoom:at,nodeExtent:aw,onNodesChange:aX,onEdgesChange:aY,snapToGrid:af,snapGrid:ag,connectionMode:V,translateExtent:au,connectOnClick:a2,defaultEdgeOptions:a5,fitView:a0,fitViewOptions:a1,onNodesDelete:G,onEdgesDelete:H,onDelete:I,onNodeDragStart:B,onNodeDrag:D,onNodeDragStop:F,onSelectionDrag:O,onSelectionDragStart:N,onSelectionDragStop:P,onMove:o,onMoveStart:p,onMoveEnd:q,noPanClassName:a_,nodeOrigin:an,rfId:bx,autoPanOnConnect:a9,autoPanOnNodeDrag:ba,autoPanSpeed:bb,onError:be,connectionRadius:bc,isValidConnection:bd,selectNodesOnDrag:ai,nodeDragThreshold:bh,connectionDragThreshold:bi,onBeforeDelete:U,debug:bp,ariaLabelConfig:bt,zIndexMode:bu}),(0,e.jsx)(K,{onSelectionChange:J}),aN,(0,e.jsx)(E,{proOptions:a4,position:a3}),(0,e.jsx)(C,{rfId:bx,disableKeyboardA11y:a8})]})})});function bu({dimensions:a,lineWidth:b,variant:c,className:d}){return(0,e.jsx)("path",{strokeWidth:b,d:`M${a[0]/2} 0 V${a[1]} M0 ${a[1]/2} H${a[0]}`,className:g(["react-flow__background-pattern",c,d])})}function bv({radius:a,className:b}){return(0,e.jsx)("circle",{cx:a,cy:a,r:a,className:g(["react-flow__background-pattern","dots",b])})}h.xc.error014(),function(a){a.Lines="lines",a.Dots="dots",a.Cross="cross"}(d||(d={}));let bw={[d.Dots]:1,[d.Lines]:1,[d.Cross]:6},bx=a=>({transform:a.transform,patternId:`pattern-${a.rfId}`});function by({id:a,variant:b=d.Dots,gap:c=20,size:h,lineWidth:i=1,offset:j=0,color:k,bgColor:l,style:m,className:n,patternClassName:o}){let q=(0,f.useRef)(null),{transform:r,patternId:s}=t(bx,p),u=h||bw[b],v=b===d.Dots,w=b===d.Cross,x=Array.isArray(c)?c:[c,c],y=[x[0]*r[2]||1,x[1]*r[2]||1],z=u*r[2],A=Array.isArray(j)?j:[j,j],B=w?[z,z]:y,C=[A[0]*r[2]||1+B[0]/2,A[1]*r[2]||1+B[1]/2],D=`${s}${a||""}`;return(0,e.jsxs)("svg",{className:g(["react-flow__background",n]),style:{...m,...ah,"--xy-background-color-props":l,"--xy-background-pattern-color-props":k},ref:q,"data-testid":"rf__background",children:[(0,e.jsx)("pattern",{id:D,x:r[0]%y[0],y:r[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:v?(0,e.jsx)(bv,{radius:z/2,className:o}):(0,e.jsx)(bu,{dimensions:B,lineWidth:i,variant:b,className:o})}),(0,e.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${D})`})]})}by.displayName="Background";let bz=(0,f.memo)(by);function bA(){return(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,e.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function bB(){return(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,e.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function bC(){return(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,e.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function bD(){return(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,e.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function bE(){return(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,e.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function bF({children:a,className:b,...c}){return(0,e.jsx)("button",{type:"button",className:g(["react-flow__controls-button",b]),...c,children:a})}let bG=a=>({isInteractive:a.nodesDraggable||a.nodesConnectable||a.elementsSelectable,minZoomReached:a.transform[2]<=a.minZoom,maxZoomReached:a.transform[2]>=a.maxZoom,ariaLabelConfig:a.ariaLabelConfig});function bH({style:a,showZoom:b=!0,showFitView:c=!0,showInteractive:d=!0,fitViewOptions:f,onZoomIn:h,onZoomOut:i,onFitView:j,onInteractiveChange:k,className:l,children:m,position:n="bottom-left",orientation:o="vertical","aria-label":q}){let r=u(),{isInteractive:s,minZoomReached:v,maxZoomReached:w,ariaLabelConfig:x}=t(bG,p),{zoomIn:y,zoomOut:z,fitView:A}=af();return(0,e.jsxs)(D,{className:g(["react-flow__controls","horizontal"===o?"horizontal":"vertical",l]),position:n,style:a,"data-testid":"rf__controls","aria-label":q??x["controls.ariaLabel"],children:[b&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(bF,{onClick:()=>{y(),h?.()},className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:w,children:(0,e.jsx)(bA,{})}),(0,e.jsx)(bF,{onClick:()=>{z(),i?.()},className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:v,children:(0,e.jsx)(bB,{})})]}),c&&(0,e.jsx)(bF,{className:"react-flow__controls-fitview",onClick:()=>{A(f),j?.()},title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:(0,e.jsx)(bC,{})}),d&&(0,e.jsx)(bF,{className:"react-flow__controls-interactive",onClick:()=>{r.setState({nodesDraggable:!s,nodesConnectable:!s,elementsSelectable:!s}),k?.(!s)},title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:s?(0,e.jsx)(bE,{}):(0,e.jsx)(bD,{})}),m]})}bH.displayName="Controls";let bI=(0,f.memo)(bH),bJ=(0,f.memo)(function({id:a,x:b,y:c,width:d,height:f,style:h,color:i,strokeColor:j,strokeWidth:k,className:l,borderRadius:m,shapeRendering:n,selected:o,onClick:p}){let{background:q,backgroundColor:r}=h||{};return(0,e.jsx)("rect",{className:g(["react-flow__minimap-node",{selected:o},l]),x:b,y:c,rx:m,ry:m,width:d,height:f,style:{fill:i||q||r,stroke:j,strokeWidth:k},shapeRendering:n,onClick:p?b=>p(b,a):void 0})}),bK=a=>a.nodes.map(a=>a.id),bL=a=>a instanceof Function?a:()=>a,bM=(0,f.memo)(function({id:a,nodeColorFunc:b,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:f,nodeStrokeWidth:g,shapeRendering:i,NodeComponent:j,onClick:k}){let{node:l,x:m,y:n,width:o,height:q}=t(b=>{let{internals:c}=b.nodeLookup.get(a),d=c.userNode,{x:e,y:f}=c.positionAbsolute,{width:g,height:i}=(0,h.uD)(d);return{node:d,x:e,y:f,width:g,height:i}},p);return l&&!l.hidden&&(0,h.QE)(l)?(0,e.jsx)(j,{x:m,y:n,width:o,height:q,style:l.style,selected:!!l.selected,className:d(l),color:b(l),borderRadius:f,strokeColor:c(l),strokeWidth:g,shapeRendering:i,onClick:k,id:l.id}):null});h.xN.Line,h.xN.Handle},95415:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(83063).A)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])}};